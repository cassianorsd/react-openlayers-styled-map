{"version":3,"sources":["Providers/index.tsx","config/ThemePallete.tsx","components/Layout/styles.tsx","components/Layout/index.tsx","pages/BlankPage/index.tsx","../../src/Hooks/index.tsx","../../src/components/Controls/GoogleStreetView/GoogleStreetViewLib.tsx","../../src/components/Controls/ControlButton/index.tsx","../../src/components/Controls/ExportMapImage/ExportMapImageLib.tsx","../../src/components/Controls/ExportMapPDF/ExportMapPDFLib.tsx","../../src/components/Controls/ExportMapPDF/ExportPDFModal/index.tsx","../../src/components/Controls/Measure/MeasureDistance/MeasureDistanceLib.tsx","../../src/components/Controls/Measure/MeasureArea/MeasureAreaLib.tsx","../../src/components/Controls/Measure/MeasureRadius/DrawCircleLib.tsx","../../src/components/Controls/PinCoordinates/PinCoordinatesPopup/index.tsx","../../src/components/Controls/PinCoordinates/PinCoordinatesLib.tsx","../../src/components/Controls/index.tsx","../../src/components/Controls/GoogleStreetView/index.tsx","../../src/components/Controls/ExportMapImage/index.tsx","../../src/components/Controls/ExportMapPDF/index.tsx","../../src/components/Controls/Measure/MeasureDistance/index.tsx","../../src/components/Controls/Measure/MeasureArea/index.tsx","../../src/components/Controls/Measure/ClearMeasures/index.tsx","../../src/components/Controls/Measure/MeasureRadius/index.tsx","../../src/components/Controls/PinCoordinates/index.tsx","../../src/components/Controls/CurrentLocation/index.tsx","../../src/components/StyledMap/index.tsx","../../src/components/StyledMenu/index.tsx","pages/HomePage/styles.tsx","pages/HomePage/index.tsx","pages/MapDebug/styles.tsx","pages/MapDebug/Sidebar/styled.tsx","pages/MapDebug/Sidebar/index.tsx","pages/MapDebug/index.tsx","pages/UnStyledMapPage/styles.tsx","pages/UnStyledMapPage/index.tsx","Routes/index.tsx","App/style.tsx","App/index.tsx","index.tsx"],"names":["Providers","children","basename","ThemePallete","darkBlue","LayoutContainer","styled","div","NavBarContainer","MenuButton","Link","lighten","Layout","to","BlankPage","initialGlobalMapState","map","activeMenuControl","undefined","globalActions","initMap","id","startCoordinates","startZoom","defaultControls","defaultOSMBasemap","tileDebug","store","el","document","controls","Zoom","ScaleLine","FullScreen","ZoomSlider","styledMenuContainer","styledMenuControl","Control","element","layers","Tile","zIndex","source","OSM","TileDebug","Map","target","view","View","center","fromLonLat","zoom","console","addLayer","layerKey","layerObject","removeLayer","layer","getLayer","setActiveMenuControl","controlKey","useGlobalMap","globalHook","useMap","actions","onMapClick","e","coords","toLonLat","SVLink","window","GoogleStreetViewLib","ControlButton","Icon","icon","color","disable","enable","activeLabel","loading","toolTipText","badgeButton","useState","active","setActive","handleClick","useCallback","useEffect","className","classnames","styles","onClick","btn","css","darken","activeLabelTitle","activeLabelText","IconDiv","name","fadeIn","style","action","badgeTooltip","ExportMapImageLib","html2canvas","allowTaint","useCORS","ignoreElements","canvas","saveAs","blob","callback","ExportMapPDFLib","startCallback","endCallback","pageDimmentions","orientation","pageSize","pdf","dim","size","scale","Math","finalSize","x","y","customStyles","content","padding","top","left","right","bottom","marginRight","transform","borderRadius","overflow","fontSize","ReactModal","defaultPageSizes","value","label","defaultPageSizesDimmentions","A0","A1","A2","A3","A4","A5","defaultPageOrientations","ExportPDFModal","isOpen","onClose","options","useForm","control","handleSubmit","isRendering","setIsRendering","onSubmit","React","onRequestClose","contentLabel","as","defaultValue","width","height","display","flexDirection","justifyContent","alignItems","overlays","pointerMoveHandler","evt","helpMsg","geom","sketch","helpTooltipElement","helpTooltip","MeasureDistanceLib","type","measureTooltipElement","measureTooltip","Overlay","offset","positioning","OverlayPositioning","BOTTOM_CENTER","draw","Draw","Style","fill","Fill","stroke","Stroke","lineDash","image","Circle","radius","createMeasureTooltip","CENTER_LEFT","tooltipCoord","listener","output","polygon","area","getArea","formatArea","line","length","getLength","formatLength","unByKey","addInteraction","GeometryType","tooltipElement","tooltip","edgeCoordinate","groundRadius","getDistance","mapEvt","Popup","position","copyText","copiedText","handleCopy","cogoToast","text","onCopy","PinCoordinatesPopup","addPopup","container","popupOverlay","autoPan","autoPanMargin","autoPanAnimation","duration","ReactDOM","clearOverlays","evtKeys","clearOthers","title","onEnable","onDisable","rendering","setRendering","isModalOpen","setModalIsOpen","closeModal","vector","LINE_STRING","onClear","MeasureAreaLib","POLYGON","isClearing","setIsClearing","setTimeout","clearLayer","key","DrawCircleLib","PinCoordinatesLib","navigator","pos","accuracy","circular","Feature","Point","maxZoom","StyledMap","osmBasemap","showRibbon","classNames","Content","HomePage","fullScreenMode","bar","minWidth","zoomButtons","zoomSlider","Controls","MapContainer","section","isMobile","SidebarContainer","Sidebar","setTileDebug","setOsmBasemap","register","handleTileDebug","checked","handleOSMBasemap","onSubmitXYZ","xyzSourceOptions","xyzKey","xyzLayerOptions","sourceOptions","JSON","parse","layerOptions","log","TileLayer","XYZ","onSubmitWMS","wmsKey","wmsSourceOptions","wmsLayerOptions","TileWMS","onRemoveWMS","onRemoveXYZ","onChange","htmlFor","marginTop","borderTop","textAlign","fontWeight","rel","href","stringify","ref","url","tileSize","transition","crossOrigin","params","serverType","MapDebug","UnStyledMapPage","Routes","path","component","AppStyle","createGlobalStyle","rgba","App","render","getElementById"],"mappings":"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","file":"static/js/main.59b74f23.chunk.js","sourcesContent":["import React from 'react'\nimport { BrowserRouter } from 'react-router-dom'\n\n\n\nconst Providers:React.FC = ({children}) => {\n  return <BrowserRouter basename='/react-openlayers-styled-map'>\n  {children}\n  </BrowserRouter>\n}\n\n\nexport default Providers","const ThemePallete = {\n  darkBlue:'#1F3B4D'\n}\n\nexport default ThemePallete","import styled from 'styled-components'\nimport {lighten} from 'polished'\nimport { Link } from 'react-router-dom';\nimport ThemePallete from '../../config/ThemePallete';\n\n\nexport const LayoutContainer = styled.div`\n  height:100vh;\n  display:flex;\n  flex-direction:column;\n  justify-content:stretch;\n  align-items:stretch;\n`;\n\nexport const NavBarContainer = styled.div`\n  background-color:${ThemePallete.darkBlue};\n  height: 35px;\n  display:flex;\n  flex-wrap:wrap;\n  justify-content:flex-start;\n  align-items:center;\n  padding: 0px 10px 0px;\n`;\n\n\nexport const MenuButton = styled(Link)`\n  user-select:none;\n  text-decoration:none;\n  color:#000;\n  background-color: ${lighten(0.3,ThemePallete.darkBlue)};\n  border-radius:5px;\n  padding: 3px 10px 3px;\n  display:flex;\n  flex-wrap:wrap;\n  justify-content:center;\n  align-items:center;\n  & + a {\n    margin-left:10px;\n  }\n  transition: background-color 300ms ease;\n  &:hover {\n    cursor:pointer;\n    background-color: ${lighten(0.5,ThemePallete.darkBlue)}\n  }\n\n`;","import React from 'react'\nimport { NavBarContainer,LayoutContainer,MenuButton } from './styles'\n\n\n\nconst Layout: React.FC = ({children}) => {\n  return (\n  <LayoutContainer>\n    <NavBarContainer>\n      <MenuButton to='/'>\n        Map\n      </MenuButton>\n      <MenuButton to='/blank'>\n        Blank Page\n      </MenuButton>\n      <MenuButton to='/map-debug'>\n        Map Debug\n      </MenuButton>\n    </NavBarContainer>\n    {children}\n  </LayoutContainer>\n  )\n}\n\nexport default Layout","import React from 'react'\nimport Layout from '../../components/Layout'\n\n\nconst BlankPage:React.FC = () => {\n  return (\n    <Layout>\n    This is a blank page to test remount of map component\n    </Layout> \n    )\n}\n\nexport default BlankPage","import { Map, View } from 'ol';\nimport React from 'react';\nimport 'ol/ol.css';\nimport BaseLayer from 'ol/layer/Base';\nimport globalHook, { Store } from 'use-global-hook';\nimport { OSM, TileDebug } from 'ol/source';\nimport { Options as TileDebugOptions } from 'ol/source/TileDebug';\nimport TileLayer from 'ol/layer/Tile';\nimport { fromLonLat } from 'ol/proj';\nimport { Control } from 'ol/control';\n\nimport ZoomSlider, {\n  Options as ZoomSliderOptions,\n} from 'ol/control/ZoomSlider';\nimport ScaleLine, { Options as ScaleLineOptions } from 'ol/control/ScaleLine';\nimport Zoom, { Options as ZoomOptions } from 'ol/control/Zoom';\nimport FullScreen, {\n  Options as FullScreenOptions,\n} from 'ol/control/FullScreen';\nimport { Coordinate } from 'ol/coordinate';\n\ninterface GlobalMapState {\n  map: Map | undefined;\n  activeMenuControl: string | undefined;\n}\n\ntype MapStore = Store<GlobalMapState, GlobalMapActions>;\n\nexport interface AddLayerProps {\n  layerKey: string;\n  layerObject: BaseLayer;\n}\n\nexport interface RemoveLayerProps {\n  layerKey?: string;\n  layerObject?: BaseLayer;\n}\n\ninterface GlobalMapActions {\n  initMap: (initMapProps: InitMapProps) => void;\n  addLayer: (addLayerProps: AddLayerProps) => void;\n  removeLayer: (removeLayerProps: RemoveLayerProps) => void;\n  getLayer: (layerKey: string) => BaseLayer | undefined;\n  setActiveMenuControl: (controlKey: string | undefined) => void;\n}\n\nexport interface ControlProps {\n  fullScreenMode?: FullScreenOptions;\n  zoomButtons?: ZoomOptions;\n  zoomSlider?: ZoomSliderOptions;\n  scale?: ScaleLineOptions;\n}\n\nexport interface InitMapProps {\n  id: string;\n  startZoom?: number;\n  startCoordinates: Coordinate;\n  defaultControls?: {\n    fullScreenMode?: FullScreenOptions;\n    zoomButtons?: ZoomOptions;\n    zoomSlider?: ZoomSliderOptions;\n    scale?: ScaleLineOptions;\n  };\n  defaultOSMBasemap?: boolean;\n  tileDebug?: TileDebugOptions;\n}\n\nconst initMap = (\n  store: MapStore,\n  {\n    id,\n    startCoordinates,\n    startZoom,\n    defaultControls,\n    defaultOSMBasemap,\n    tileDebug,\n  }: InitMapProps\n): void => {\n  if (store.state.map) {\n    store.state.map.setTarget(undefined);\n  }\n  const el = document.getElementById(id);\n  if (!el) return;\n  const controls = [];\n  if (defaultControls?.zoomButtons)\n    controls.push(new Zoom(defaultControls.zoomButtons));\n  if (defaultControls?.scale)\n    controls.push(new ScaleLine(defaultControls.scale));\n  if (defaultControls?.fullScreenMode)\n    controls.push(new FullScreen(defaultControls.fullScreenMode));\n  if (defaultControls?.zoomSlider)\n    controls.push(new ZoomSlider(defaultControls.zoomSlider));\n\n  // const styledMenuContainer = document.createElement('div');\n  const styledMenuContainer = document.getElementById('StyledMenu');\n  if (styledMenuContainer) {\n    styledMenuContainer.id = 'styledMenuContainer';\n    const styledMenuControl = new Control({ element: styledMenuContainer });\n    controls.push(styledMenuControl);\n  }\n\n  const layers: BaseLayer[] = [];\n  if (defaultOSMBasemap)\n    layers.push(new TileLayer({ zIndex: 1, source: new OSM() }));\n\n  if (tileDebug)\n    layers.push(\n      new TileLayer({ zIndex: 1000, source: new TileDebug(tileDebug) })\n    );\n\n  const map = new Map({\n    target: el,\n    layers,\n    view: new View({\n      center: fromLonLat(startCoordinates),\n      zoom: startZoom || 10,\n    }),\n    controls,\n  });\n  store.actions.setActiveMenuControl(undefined);\n  console.log('[MAP ENGINE] Started.');\n\n  store.setState({ ...store.state, map });\n};\n\nconst setActiveMenuControl = (\n  store: MapStore,\n  controlKey: string | undefined\n): void => {\n  store.setState({ ...store.state, activeMenuControl: controlKey });\n};\n\nconst addLayer = (\n  store: MapStore,\n  { layerKey, layerObject }: AddLayerProps\n): void => {\n  if (!store.state.map) return;\n  layerObject.set('layerKey', layerKey);\n  store.actions.removeLayer({ layerKey });\n  store.state.map.addLayer(layerObject);\n};\n\nconst removeLayer = (\n  store: MapStore,\n  { layerKey, layerObject }: AddLayerProps\n): void => {\n  if (!store.state.map) return;\n  if (layerObject) {\n    store.state.map.removeLayer(layerObject);\n  } else if (layerKey) {\n    store.state.map\n      .getLayers()\n      .getArray()\n      .filter((layer: BaseLayer) => layer.get('layerKey') === layerKey)\n      .forEach((layer) => {\n        if (!store.state.map) return;\n        store.state.map.removeLayer(layer);\n      });\n  }\n};\n\nconst getLayer = (store: MapStore, layerKey: string): BaseLayer | undefined => {\n  if (!store.state.map) return;\n  const layer = store.state.map\n    .getLayers()\n    .getArray()\n    .find((layer: BaseLayer) => layer.get('layerKey') === layerKey);\n  return layer || undefined;\n};\n\nconst initialGlobalMapState: GlobalMapState = {\n  map: undefined,\n  // map: new Map({\n  //   target: undefined,\n  //   layers: [],\n  //   view: new View({\n  //     center: [0, 0],\n  //     zoom: 2,\n  //   }),\n  //   controls: [],\n  // }),\n  activeMenuControl: undefined,\n};\nconst globalActions = {\n  initMap,\n  addLayer,\n  removeLayer,\n  getLayer,\n  setActiveMenuControl,\n};\nconst useGlobalMap = globalHook<GlobalMapState, GlobalMapActions>(\n  React,\n  initialGlobalMapState,\n  globalActions\n);\n\nexport type UseMapProps = GlobalMapState & GlobalMapActions;\n\nfunction useMap(): UseMapProps {\n  const [store, actions] = useGlobalMap();\n\n  return {\n    initMap: actions.initMap,\n    map: store.map,\n    addLayer: actions.addLayer,\n    removeLayer: actions.removeLayer,\n    getLayer: actions.getLayer,\n    activeMenuControl: store.activeMenuControl,\n    setActiveMenuControl: actions.setActiveMenuControl,\n  };\n}\nexport { useMap, useGlobalMap };\n","import { Map, MapBrowserEvent } from 'ol';\nimport { toLonLat } from 'ol/proj';\n\nconst onMapClick = (e: MapBrowserEvent): void => {\n  const coords = toLonLat(e.coordinate);\n  const SVLink = `https://www.google.com/maps?layer=c&cbll=${coords[1]},${coords[0]}`;\n  window.open(SVLink, '_blank');\n};\n\nconst enableGoogleStreetView = (map: Map): void => {\n  map.getViewport().style.cursor = 'crosshair';\n  map.on('click', onMapClick);\n};\n\nconst disableGoogleStreetView = (map: Map): void => {\n  map.getViewport().style.cursor = '';\n  map.un('click', onMapClick);\n};\n\nconst GoogleStreetViewLib = { enableGoogleStreetView, disableGoogleStreetView };\nexport default GoogleStreetViewLib;\n","import React, {\n  CSSProperties,\n  ReactNode,\n  useCallback,\n  useEffect,\n  useState,\n} from 'react';\nimport { useMap } from '../../../Hooks';\nimport Spinner from 'react-spinkit';\nimport styles from './styles.scss';\nimport classnames from 'classnames';\nimport { css } from 'emotion';\nimport { darken } from 'polished';\n\nexport interface ControlButtonProps {\n  styled?: boolean;\n  icon?: ReactNode;\n  color?: string;\n  activeLabel?:\n    | {\n        title?: string;\n        text?: string;\n      }\n    | false;\n  toolTipText?: string;\n  controlKey: string;\n  enable?: () => void;\n  disable?: () => void;\n  loading?: boolean;\n  badgeButton?:\n    | {\n        style?: CSSProperties;\n        content: ReactNode;\n        action?: () => void;\n        toolTipText?: string;\n      }\n    | false;\n}\n\nconst ControlButton: React.FC<ControlButtonProps> = ({\n  children,\n  styled,\n  icon: Icon,\n  color,\n  controlKey,\n  disable,\n  enable,\n  activeLabel,\n  loading,\n  toolTipText,\n  badgeButton,\n}) => {\n  const [active, setActive] = useState(false);\n  const { setActiveMenuControl, activeMenuControl } = useMap();\n  const handleClick = useCallback(() => {\n    if (!active) setActiveMenuControl(controlKey);\n    else setActiveMenuControl(undefined);\n  }, [active, setActiveMenuControl, controlKey]);\n\n  useEffect(() => {\n    if (activeMenuControl === controlKey && !active) {\n      setActive(true);\n      if (enable) enable();\n    } else if (activeMenuControl !== controlKey && active) {\n      setActive(false);\n      if (disable) disable();\n    }\n  }, [activeMenuControl, controlKey, active, enable, disable]);\n\n  return (\n    <div\n      className={classnames(\n        'ol-control',\n        styles.control,\n        styled && styles.styled,\n        badgeButton && styles.withBadge,\n        active && styles.active\n      )}\n    >\n      <button onClick={handleClick} className={styles.btn}>\n        {toolTipText && !active && (\n          <span className={styles.toolTipText}>{toolTipText}</span>\n        )}\n        <div\n          className={classnames(\n            styles.buttonContent,\n            styled &&\n              css`\n                background-color: ${color || '#fff'}!important;\n                &:hover {\n                  background-color: ${darken(0.1, color || '#fff')}!important;\n                }\n              `\n          )}\n        >\n          {styled && activeLabel && (\n            <span className={styles.activeLabel}>\n              <span className={styles.activeLabelTitle}>\n                {activeLabel.title}\n              </span>\n              <span className={styles.activeLabelText}>{activeLabel.text}</span>\n            </span>\n          )}\n          {loading && (\n            <div className={styles.IconDiv}>\n              <Spinner name='circle' color='#000' fadeIn='none' />\n            </div>\n          )}\n          {!loading && Icon && <div className={styles.IconDiv}>{Icon}</div>}\n          {children}\n        </div>\n      </button>\n      {badgeButton && (\n        <span\n          style={badgeButton.style}\n          className={classnames(\n            styles.badgeButton,\n            css`\n              background-color: ${badgeButton?.style?.backgroundColor ||\n              darken(0.2, color || '#fff')};\n              &:hover {\n                background-color: black !important;\n              }\n            `\n          )}\n          onClick={badgeButton.action}\n        >\n          {badgeButton.toolTipText && (\n            <span className={styles.badgeTooltip}>\n              {badgeButton.toolTipText}\n            </span>\n          )}\n          {badgeButton.content}\n        </span>\n      )}\n    </div>\n  );\n};\n\nexport default ControlButton;\n","import { Map } from 'ol';\nimport html2canvas from 'html2canvas';\nimport { saveAs } from 'file-saver';\n\nconst exportPNG = (map: Map, callback: () => void): void => {\n  map.once('rendercomplete', function () {\n    html2canvas(map.getViewport(), {\n      allowTaint: true,\n      useCORS: true,\n      ignoreElements: (el: HTMLElement): boolean => {\n        return el.classList.contains('ol-control');\n      },\n    }).then((canvas) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          saveAs(blob, 'map.png');\n          callback();\n        }\n      });\n    });\n  });\n  map.renderSync();\n};\n\nconst ExportMapImageLib = { exportPNG };\nexport default ExportMapImageLib;\n","import { Map } from 'ol';\nimport html2canvas from 'html2canvas';\nimport JsPDF from 'jspdf';\n\nexport type PageDimmentions = [number, number];\nexport type PageOrientation = 'landscape' | 'portrait';\n\ninterface ExportPDFOptions {\n  map: Map;\n  startCallback?: () => void;\n  endCallback?: () => void;\n  pageDimmentions: PageDimmentions;\n  orientation: PageOrientation;\n  pageSize: string;\n}\n\nconst exportPDF = ({\n  map,\n  startCallback,\n  endCallback,\n  pageDimmentions,\n  orientation,\n  pageSize,\n}: ExportPDFOptions): void => {\n  if (startCallback) startCallback();\n  map.once('rendercomplete', function () {\n    html2canvas(map.getViewport(), {\n      allowTaint: true,\n      useCORS: true,\n      ignoreElements: (el: HTMLElement): boolean => {\n        return el.classList.contains('ol-control');\n      },\n    }).then((canvas) => {\n      const pdf = new JsPDF(orientation, undefined, pageSize);\n      const dim = pageDimmentions;\n      const size = map.getSize();\n      const scale = Math.max(\n        size[1] / ((orientation === 'landscape' ? dim[1] : dim[0]) - 20),\n        size[0] / ((orientation === 'landscape' ? dim[0] : dim[1]) - 20)\n      );\n      const finalSize = [size[0] / scale, size[1] / scale];\n\n      const [x, y] = [\n        Math.abs(\n          ((orientation === 'landscape' ? dim[0] : dim[1]) - finalSize[0]) / 2\n        ),\n        Math.abs(\n          ((orientation === 'landscape' ? dim[1] : dim[0]) - finalSize[1]) / 2\n        ),\n      ];\n      pdf.addImage(\n        canvas.toDataURL('image/jpeg'),\n        'JPEG',\n        x,\n        y,\n        finalSize[0],\n        finalSize[1]\n      );\n      pdf.save('map.pdf');\n      if (endCallback) endCallback();\n    });\n  });\n  map.renderSync();\n};\n\nconst ExportMapPDFLib = { exportPDF };\nexport default ExportMapPDFLib;\n","import React, { useState } from 'react';\nimport ReactModal from 'react-modal';\nimport { FaTimes } from 'react-icons/fa';\nimport { Controller, useForm } from 'react-hook-form';\nimport Select from 'react-select';\nimport { useMap } from '../../../../Hooks';\nimport ExportMapPDFLib, {\n  PageDimmentions,\n  PageOrientation,\n} from '../ExportMapPDFLib';\nimport Spinner from 'react-spinkit';\nimport styles from './styles.module.scss';\nimport classnames from 'classnames';\n\nconst customStyles: ReactModal.Styles = {\n  content: {\n    padding: '5px',\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    borderRadius: '10px',\n    overflow: 'visible',\n    fontSize: '12px',\n  },\n};\nReactModal.setAppElement('#root');\n\nconst defaultPageSizes: { value: string; label: string }[] = [\n  { value: 'A3', label: 'A3' },\n  { value: 'A4', label: 'A4' },\n  { value: 'A5', label: 'A5' },\n];\n\nconst defaultPageSizesDimmentions: { [key: string]: [number, number] } = {\n  A0: [1189, 841],\n  A1: [841, 594],\n  A2: [594, 420],\n  A3: [420, 297],\n  A4: [297, 210],\n  A5: [210, 148],\n};\n\nconst defaultPageOrientations: { value: string; label: string }[] = [\n  { value: 'landscape', label: 'Paisagem' },\n  { value: 'portrait', label: 'Retrato' },\n];\ntype FormData = {\n  pageSize: { value: string; label: string };\n  orientation: { value: 'landscape' | 'portrait'; label: string };\n};\n\nexport interface ExportPDFModalOptions {\n  pageOrientations?: { value: PageOrientation; label: string }[];\n  pageSizesDimmentions?: { [key: string]: PageDimmentions };\n  pageSizes?: { value: string; label: string }[];\n}\n\nexport interface ExportPDFModalProps extends ReactModal.Props {\n  options?: ExportPDFModalOptions;\n  onClose: () => void;\n}\n\nconst ExportPDFModal: React.FC<ExportPDFModalProps> = ({\n  isOpen,\n  onClose,\n  options,\n}) => {\n  const { map, setActiveMenuControl } = useMap();\n  const { control, handleSubmit } = useForm<FormData>();\n  const [isRendering, setIsRendering] = useState(false);\n\n  const onSubmit = handleSubmit(({ orientation, pageSize }) => {\n    if (orientation && pageSize && map) {\n      ExportMapPDFLib.exportPDF({\n        map,\n        orientation: orientation.value,\n        pageSize: pageSize.value,\n        pageDimmentions: options?.pageSizesDimmentions\n          ? options.pageSizesDimmentions[pageSize.value]\n          : defaultPageSizesDimmentions[pageSize.value],\n        startCallback: () => {\n          setIsRendering(true);\n        },\n        endCallback: () => {\n          setActiveMenuControl(undefined);\n          setIsRendering(false);\n          onClose();\n        },\n      });\n    }\n  });\n\n  return (\n    <div>\n      <ReactModal\n        isOpen={isOpen}\n        onRequestClose={onClose}\n        contentLabel='Example Modal'\n        style={customStyles}\n      >\n        <div className={styles.modalContent}>\n          <div className={styles.modalHeader}>\n            <span className={styles.modalTitle}>Export PDF</span>\n            <button className={styles.modalCloseButton} onClick={onClose}>\n              <FaTimes size={16} />\n            </button>\n          </div>\n          <form onSubmit={onSubmit}>\n            <span>Página:</span>\n            <Controller\n              name='pageSize'\n              as={<Select />}\n              options={options?.pageSizes || defaultPageSizes}\n              control={control}\n              defaultValue={{ value: 'A4', label: 'A4' }}\n            />\n            <span>Orientação:</span>\n            <Controller\n              name='orientation'\n              as={<Select />}\n              options={options?.pageOrientations || defaultPageOrientations}\n              control={control}\n              defaultValue={{ value: 'landscape', label: 'Paisagem' }}\n            />\n          </form>\n          <div className={styles.modalActionDiv}>\n            <button\n              className={classnames(styles.button, styles.positive)}\n              onClick={onSubmit}\n            >\n              Gerar PDF\n            </button>\n\n            <button\n              className={classnames(styles.button, styles.negative)}\n              onClick={onClose}\n            >\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </ReactModal>\n      <ReactModal isOpen={isRendering} style={customStyles}>\n        <div\n          style={{\n            width: '200px',\n            height: '120px',\n            borderRadius: '5px',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'space-around',\n            alignItems: 'center',\n          }}\n        >\n          <Spinner\n            name='line-scale-pulse-out-rapid'\n            color='green'\n            fadeIn='none'\n            style={{ transform: 'scale(1.5)' }}\n          />\n          <span>Gerando PDF...</span>\n        </div>\n      </ReactModal>\n    </div>\n  );\n};\n\nexport default ExportPDFModal;\n","import { Feature, Map, MapBrowserEvent, Overlay } from 'ol';\nimport LineString from 'ol/geom/LineString';\nimport Polygon from 'ol/geom/Polygon';\nimport { Vector as VectorSource } from 'ol/source';\nimport { getLength, getArea } from 'ol/sphere';\nimport Draw, { DrawEvent } from 'ol/interaction/Draw';\nimport GeometryType from 'ol/geom/GeometryType';\nimport Style from 'ol/style/Style';\nimport Fill from 'ol/style/Fill';\nimport Stroke from 'ol/style/Stroke';\nimport CircleStyle from 'ol/style/Circle';\nimport { EventsKey } from 'ol/events';\nimport { unByKey } from 'ol/Observable';\nimport OverlayPositioning from 'ol/OverlayPositioning';\nimport styles from '../styles.scss';\nimport classnames from 'classnames';\n\nlet sketch: Feature | null;\nlet helpTooltipElement: HTMLElement;\nlet helpTooltip: Overlay;\nconst overlays: Overlay[] = [];\nlet measureTooltipElement: HTMLElement | null;\nlet measureTooltip: Overlay;\nconst continuePolygonMsg = 'Click to continue drawing the polygon';\nconst continueLineMsg = 'Click to continue drawing the line';\nlet draw: Draw;\n\nconst pointerMoveHandler = (evt: MapBrowserEvent): void => {\n  if (evt.dragging) {\n    return;\n  }\n  let helpMsg = 'Click to start drawing';\n  if (sketch) {\n    const geom = sketch.getGeometry();\n    if (geom instanceof Polygon) {\n      helpMsg = continuePolygonMsg;\n    } else if (geom instanceof LineString) {\n      helpMsg = continueLineMsg;\n    }\n  }\n  helpTooltipElement.innerHTML = helpMsg;\n  helpTooltip.setPosition(evt.coordinate);\n  helpTooltipElement.classList.remove('hidden');\n};\n\nconst formatLength = (line: LineString): string => {\n  const length = getLength(line);\n  let output;\n  if (length > 100) {\n    output = Math.round((length / 1000) * 100) / 100 + ' ' + 'km';\n  } else {\n    output = Math.round(length * 100) / 100 + ' ' + 'm';\n  }\n  return output;\n};\nconst formatArea = (polygon: Polygon): string => {\n  const area = getArea(polygon);\n  let output;\n  if (area > 10000) {\n    output = Math.round((area / 1000000) * 100) / 100 + ' ' + 'km<sup>2</sup>';\n  } else {\n    output = Math.round(area * 100) / 100 + ' ' + 'm<sup>2</sup>';\n  }\n  return output;\n};\n\ninterface StartMeasureProps {\n  map: Map;\n  source: VectorSource;\n  type: GeometryType.LINE_STRING | GeometryType.POLYGON;\n}\n\nconst StartMeasure = ({ map, source, type }: StartMeasureProps): void => {\n  map.on('pointermove', pointerMoveHandler);\n  map.getViewport().addEventListener('mouseout', function () {\n    helpTooltipElement.classList.add('hidden');\n  });\n\n  function createHelpTooltip(): void {\n    if (helpTooltipElement && helpTooltipElement.parentNode) {\n      helpTooltipElement.parentNode.removeChild(helpTooltipElement);\n    }\n    helpTooltipElement = document.createElement('div');\n    helpTooltipElement.className = styles.olToltip + ' hidden';\n    helpTooltip = new Overlay({\n      element: helpTooltipElement,\n      offset: [15, 0],\n      positioning: OverlayPositioning.CENTER_LEFT,\n    });\n    map.addOverlay(helpTooltip);\n  }\n\n  function createMeasureTooltip(): void {\n    if (measureTooltipElement && measureTooltipElement.parentNode) {\n      measureTooltipElement.parentNode.removeChild(measureTooltipElement);\n    }\n    measureTooltipElement = document.createElement('div');\n    // measureTooltipElement.className = 'ol-tooltip ol-tooltip-measure';\n    measureTooltipElement.className = classnames(\n      styles.olTooltip,\n      styles.olTooltipMeasure,\n      styles.Distance\n    );\n    measureTooltip = new Overlay({\n      element: measureTooltipElement,\n      offset: [0, -15],\n      positioning: OverlayPositioning.BOTTOM_CENTER,\n    });\n    overlays.push(measureTooltip);\n    map.addOverlay(measureTooltip);\n  }\n\n  function addInteraction(): void {\n    draw = new Draw({\n      source: source,\n      type,\n      style: new Style({\n        fill: new Fill({\n          color: 'rgba(255, 255, 255, 0.2)',\n        }),\n        stroke: new Stroke({\n          color: 'rgba(0, 0, 0, 0.5)',\n          lineDash: [10, 10],\n          width: 2,\n        }),\n        image: new CircleStyle({\n          radius: 5,\n          stroke: new Stroke({\n            color: 'rgba(0, 0, 0, 0.7)',\n          }),\n          fill: new Fill({\n            color: 'rgba(255, 255, 255, 0.2)',\n          }),\n        }),\n      }),\n    });\n    map.addInteraction(draw);\n\n    createMeasureTooltip();\n    createHelpTooltip();\n\n    interface MapDrawEvent extends DrawEvent, MapBrowserEvent {}\n\n    let listener: EventsKey;\n    draw.on('drawstart', function (evt: MapDrawEvent) {\n      sketch = evt.feature;\n      let tooltipCoord = evt.coordinate;\n      listener = sketch.getGeometry().on('change', function (evt) {\n        const geom = evt.target;\n        let output;\n        if (geom instanceof Polygon) {\n          output = formatArea(geom);\n          tooltipCoord = geom.getInteriorPoint().getCoordinates();\n        } else if (geom instanceof LineString) {\n          output = formatLength(geom);\n          tooltipCoord = geom.getLastCoordinate();\n        }\n        if (measureTooltipElement) {\n          measureTooltipElement.innerHTML = output || '';\n          measureTooltip.setPosition(tooltipCoord);\n        }\n      });\n    });\n\n    draw.on('drawend', function () {\n      if (measureTooltipElement) {\n        measureTooltipElement.classList.add(styles.olTooltip);\n        measureTooltipElement.classList.add(styles.olTooltipStatic);\n        // measureTooltipElement.className = 'ol-tooltip ol-tooltip-static';\n        measureTooltip.setOffset([0, -7]);\n      }\n      sketch = null;\n      measureTooltipElement = null;\n      createMeasureTooltip();\n      unByKey(listener);\n    });\n  }\n  addInteraction();\n};\n\ninterface StopDistanceMeasureProps {\n  map: Map;\n}\nconst StopMeasure = ({ map }: StopDistanceMeasureProps): void => {\n  map.removeInteraction(draw);\n  map.removeOverlay(helpTooltip);\n};\n\ninterface ClearOverlaysProps {\n  map: Map;\n}\nconst ClearOverlays = ({ map }: ClearOverlaysProps): void => {\n  overlays.forEach((overlay) => {\n    map.removeOverlay(overlay);\n  });\n};\nconst MeasureDistanceLib = { StartMeasure, StopMeasure, ClearOverlays };\nexport default MeasureDistanceLib;\n","import { Feature, Map, MapBrowserEvent, Overlay } from 'ol';\nimport LineString from 'ol/geom/LineString';\nimport Polygon from 'ol/geom/Polygon';\nimport { Vector as VectorSource } from 'ol/source';\nimport { getLength, getArea } from 'ol/sphere';\nimport Draw, { DrawEvent } from 'ol/interaction/Draw';\nimport GeometryType from 'ol/geom/GeometryType';\nimport Style from 'ol/style/Style';\nimport Fill from 'ol/style/Fill';\nimport Stroke from 'ol/style/Stroke';\nimport CircleStyle from 'ol/style/Circle';\nimport { EventsKey } from 'ol/events';\nimport { unByKey } from 'ol/Observable';\nimport OverlayPositioning from 'ol/OverlayPositioning';\nimport styles from '../styles.scss';\nimport classnames from 'classnames';\n\nlet sketch: Feature | null;\nlet helpTooltipElement: HTMLElement;\nlet helpTooltip: Overlay;\nconst overlays: Overlay[] = [];\nlet measureTooltipElement: HTMLElement | null;\nlet measureTooltip: Overlay;\nconst continuePolygonMsg = 'Click to continue drawing the polygon';\nconst continueLineMsg = 'Click to continue drawing the line';\nlet draw: Draw;\n\nconst pointerMoveHandler = (evt: MapBrowserEvent): void => {\n  if (evt.dragging) {\n    return;\n  }\n  let helpMsg = 'Click to start drawing';\n  if (sketch) {\n    const geom = sketch.getGeometry();\n    if (geom instanceof Polygon) {\n      helpMsg = continuePolygonMsg;\n    } else if (geom instanceof LineString) {\n      helpMsg = continueLineMsg;\n    }\n  }\n  helpTooltipElement.innerHTML = helpMsg;\n  helpTooltip.setPosition(evt.coordinate);\n  helpTooltipElement.classList.remove('hidden');\n};\n\nconst formatLength = (line: LineString): string => {\n  const length = getLength(line);\n  let output;\n  if (length > 100) {\n    output = Math.round((length / 1000) * 100) / 100 + ' ' + 'km';\n  } else {\n    output = Math.round(length * 100) / 100 + ' ' + 'm';\n  }\n  return output;\n};\nconst formatArea = (polygon: Polygon): string => {\n  const area = getArea(polygon);\n  let output;\n  if (area > 10000) {\n    output = Math.round((area / 1000000) * 100) / 100 + ' ' + 'km<sup>2</sup>';\n  } else {\n    output = Math.round(area * 100) / 100 + ' ' + 'm<sup>2</sup>';\n  }\n  return output;\n};\n\ninterface StartMeasureProps {\n  map: Map;\n  source: VectorSource;\n  type: GeometryType.LINE_STRING | GeometryType.POLYGON;\n}\n\nconst StartMeasure = ({ map, source, type }: StartMeasureProps): void => {\n  map.on('pointermove', pointerMoveHandler);\n  map.getViewport().addEventListener('mouseout', function () {\n    helpTooltipElement.classList.add('hidden');\n  });\n\n  function createHelpTooltip(): void {\n    if (helpTooltipElement && helpTooltipElement.parentNode) {\n      helpTooltipElement.parentNode.removeChild(helpTooltipElement);\n    }\n    helpTooltipElement = document.createElement('div');\n    // helpTooltipElement.className = 'ol-tooltip hidden';\n    helpTooltipElement.className = styles.olTooltip + ' hidden';\n    helpTooltip = new Overlay({\n      element: helpTooltipElement,\n      offset: [15, 0],\n      positioning: OverlayPositioning.CENTER_LEFT,\n    });\n    map.addOverlay(helpTooltip);\n  }\n\n  function createMeasureTooltip(): void {\n    if (measureTooltipElement && measureTooltipElement.parentNode) {\n      measureTooltipElement.parentNode.removeChild(measureTooltipElement);\n    }\n    measureTooltipElement = document.createElement('div');\n    // measureTooltipElement.className = 'ol-tooltip ol-tooltip-measure';\n    measureTooltipElement.className =\n      styles.olTooltip + ' ' + styles.olTooltipMeasure;\n    measureTooltip = new Overlay({\n      element: measureTooltipElement,\n      offset: [0, -15],\n      positioning: OverlayPositioning.BOTTOM_CENTER,\n    });\n    overlays.push(measureTooltip);\n    map.addOverlay(measureTooltip);\n  }\n\n  function addInteraction(): void {\n    draw = new Draw({\n      source: source,\n      type,\n      style: new Style({\n        fill: new Fill({\n          color: 'rgba(255, 255, 255, 0.2)',\n        }),\n        stroke: new Stroke({\n          color: 'rgba(0, 0, 0, 0.5)',\n          lineDash: [10, 10],\n          width: 2,\n        }),\n        image: new CircleStyle({\n          radius: 5,\n          stroke: new Stroke({\n            color: 'rgba(0, 0, 0, 0.7)',\n          }),\n          fill: new Fill({\n            color: 'rgba(255, 255, 255, 0.2)',\n          }),\n        }),\n      }),\n    });\n    map.addInteraction(draw);\n\n    createMeasureTooltip();\n    createHelpTooltip();\n\n    interface MapDrawEvent extends DrawEvent, MapBrowserEvent {}\n\n    let listener: EventsKey;\n    draw.on('drawstart', function (evt: MapDrawEvent) {\n      sketch = evt.feature;\n      let tooltipCoord = evt.coordinate;\n      listener = sketch.getGeometry().on('change', function (evt) {\n        const geom = evt.target;\n        let output;\n        if (geom instanceof Polygon) {\n          output = formatArea(geom);\n          tooltipCoord = geom.getInteriorPoint().getCoordinates();\n        } else if (geom instanceof LineString) {\n          output = formatLength(geom);\n          tooltipCoord = geom.getLastCoordinate();\n        }\n        if (measureTooltipElement) {\n          measureTooltipElement.innerHTML = output || '';\n          measureTooltip.setPosition(tooltipCoord);\n        }\n      });\n    });\n\n    draw.on('drawend', function () {\n      if (measureTooltipElement) {\n        // measureTooltipElement.className = 'ol-tooltip ol-tooltip-static';\n        measureTooltipElement.className = classnames(\n          styles.olTooltip,\n          styles.olTooltipStatic,\n          styles.Area\n        );\n        measureTooltip.setOffset([0, -7]);\n      }\n      sketch = null;\n      measureTooltipElement = null;\n      createMeasureTooltip();\n      unByKey(listener);\n    });\n  }\n  addInteraction();\n};\n\ninterface StopDistanceMeasureProps {\n  map: Map;\n}\nconst StopMeasure = ({ map }: StopDistanceMeasureProps): void => {\n  map.removeInteraction(draw);\n  map.removeOverlay(helpTooltip);\n};\n\ninterface ClearOverlaysProps {\n  map: Map;\n}\nconst ClearOverlays = ({ map }: ClearOverlaysProps): void => {\n  overlays.forEach((overlay) => {\n    map.removeOverlay(overlay);\n  });\n};\nconst MeasureDistanceLib = { StartMeasure, StopMeasure, ClearOverlays };\nexport default MeasureDistanceLib;\n","import { Map, MapBrowserEvent, Overlay } from 'ol';\nimport { EventsKey } from 'ol/events';\nimport Circle from 'ol/geom/Circle';\nimport GeometryType from 'ol/geom/GeometryType';\nimport Draw, { DrawEvent } from 'ol/interaction/Draw';\nimport { unByKey } from 'ol/Observable';\nimport OverlayPositioning from 'ol/OverlayPositioning';\nimport { transform } from 'ol/proj';\nimport { Vector as VectorSource } from 'ol/source';\nimport { getDistance } from 'ol/sphere';\nimport styles from '../styles.scss';\nimport classnames from 'classnames';\nimport Style from 'ol/style/Style';\nimport Fill from 'ol/style/Fill';\nimport Stroke from 'ol/style/Stroke';\nimport CircleStyle from 'ol/style/Circle';\n\nlet draw: Draw;\nlet tooltipElement: HTMLElement | null;\nlet tooltip: Overlay;\nconst overlays: Overlay[] = [];\nlet listener: EventsKey;\n\ninterface StartMeasureProps {\n  map: Map;\n  source: VectorSource;\n}\n\nconst StartMeasure = ({ map, source }: StartMeasureProps): void => {\n  draw = new Draw({\n    source,\n    type: GeometryType.CIRCLE,\n    style: new Style({\n      fill: new Fill({\n        color: 'rgba(98, 65, 199,0.2)',\n      }),\n      stroke: new Stroke({\n        color: 'rgba(98, 65, 199,0.8)',\n        lineDash: [10, 10],\n        width: 2,\n      }),\n      image: new CircleStyle({\n        radius: 5,\n        stroke: new Stroke({\n          color: 'rgba(98, 65, 199,0.8)',\n        }),\n        fill: new Fill({\n          color: 'rgba(98, 65, 199,0.2)',\n        }),\n      }),\n    }),\n  });\n\n  const createTooltip = (): void => {\n    tooltipElement = document.createElement('div');\n    tooltipElement.className = styles.olTooltip;\n    tooltip = new Overlay({\n      element: tooltipElement,\n      offset: [15, 0],\n      positioning: OverlayPositioning.CENTER_LEFT,\n    });\n    overlays.push(tooltip);\n    map.addOverlay(tooltip);\n  };\n\n  map.addInteraction(draw);\n  draw.on('drawstart', (e: DrawEvent) => {\n    const feature = e.feature;\n    const geom = feature.getGeometry() as Circle;\n    createTooltip();\n    listener = map.on('pointermove', (mapEvt: MapBrowserEvent) => {\n      const center = geom.getCenter();\n      const radius = geom.getRadius();\n      const edgeCoordinate = [center[0] + radius, center[1]];\n      const groundRadius = getDistance(\n        transform(center, 'EPSG:3857', 'EPSG:4326'),\n        transform(edgeCoordinate, 'EPSG:3857', 'EPSG:4326')\n      );\n      if (tooltipElement) {\n        tooltipElement.innerHTML = `${groundRadius.toFixed(2)}m`;\n      }\n      tooltip.setPosition(mapEvt.coordinate);\n    });\n  });\n\n  draw.on('drawend', () => {\n    if (tooltipElement)\n      // tooltipElement.className = 'ol-tooltip ol-tooltip-static-measure-circle';\n      tooltipElement.className = classnames(\n        styles.olTooltip,\n        styles.olTooltipStatic,\n        styles.Radius\n      );\n    tooltipElement = null;\n    if (listener) unByKey(listener);\n  });\n};\n\ninterface StopMeasureProps {\n  map: Map;\n}\nconst StopMeasure = ({ map }: StopMeasureProps): void => {\n  map.removeInteraction(draw);\n};\ninterface ClearOverlaysProps {\n  map: Map;\n}\nconst ClearOverlays = ({ map }: ClearOverlaysProps): void => {\n  overlays.forEach((overlay) => {\n    map.removeOverlay(overlay);\n  });\n};\nconst MeasureDistanceLib = { StartMeasure, StopMeasure, ClearOverlays };\nexport default MeasureDistanceLib;\n","import React, { useCallback } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Map, Overlay } from 'ol';\nimport { Coordinate } from 'ol/coordinate';\nimport { FaRegCopy, FaTimes } from 'react-icons/fa';\nimport { toLonLat } from 'ol/proj';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport cogoToast from 'cogo-toast';\nimport styles from './styles.scss';\n\ninterface PopupProps {\n  onClose: () => void;\n  position: Coordinate;\n  copyText?: string;\n  copiedText?: string;\n}\n\nconst Popup: React.FC<PopupProps> = ({\n  onClose,\n  position,\n  copyText,\n  copiedText,\n}) => {\n  console.log(onClose, position);\n  const handleCopy = useCallback(\n    (text: string) => {\n      cogoToast.success(`${copiedText || 'Copied'}: ${text}`);\n    },\n    [copiedText]\n  );\n\n  return (\n    <div>\n      <span className={styles.closer} onClick={onClose}>\n        <FaTimes size={18} />\n      </span>\n      <div className={styles.content}>\n        <div className={styles.title}>Location:</div>\n        <div className={styles.panesContainer}>\n          <div className={styles.leftPane}>\n            <span>\n              <b>Lon:</b> {toLonLat(position)[0].toFixed(4)}\n            </span>\n            <span>\n              <b>Lat:</b> {toLonLat(position)[1].toFixed(4)}\n            </span>\n          </div>\n          <div className={styles.rightPane}>\n            <CopyToClipboard\n              text={`${toLonLat(position)[1].toFixed(5)}, ${toLonLat(\n                position\n              )[0].toFixed(5)}`}\n              onCopy={handleCopy}\n            >\n              <button className={styles.copyButton}>\n                <FaRegCopy size={20} />\n                <span>{copyText || 'Copy'}</span>\n              </button>\n            </CopyToClipboard>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst overlays: Overlay[] = [];\n\ninterface AddPopupOptions {\n  map: Map;\n  position: Coordinate;\n  options?: {\n    clearOthers?: boolean;\n    copyText?: string;\n    copiedText?: string;\n  };\n}\nconst addPopup = ({ map, position, options }: AddPopupOptions): void => {\n  const container = document.createElement('div');\n  const content = document.createElement('div');\n  container.appendChild(content);\n  container.classList.add(styles.popup);\n\n  if (!container) return;\n  const popupOverlay = new Overlay({\n    element: container,\n    autoPan: true,\n    autoPanMargin: 100,\n    autoPanAnimation: {\n      duration: 250,\n    },\n  });\n  if (options?.clearOthers) {\n    overlays.forEach((overlay) => map.removeOverlay(overlay));\n  }\n  overlays.push(popupOverlay);\n  map.addOverlay(popupOverlay);\n  map.getViewport().style.cursor = 'crosshair';\n  ReactDOM.render(\n    React.createElement(Popup, {\n      position: position,\n      onClose: () => {\n        popupOverlay.setPosition(undefined);\n        map.removeOverlay(popupOverlay);\n      },\n      copyText: options?.copyText,\n      copiedText: options?.copiedText,\n    }),\n    container\n  );\n  popupOverlay.setPosition(position);\n};\n\nfunction clearOverlays(map: Map): void {\n  overlays.forEach((overlay) => map.removeOverlay(overlay));\n}\n\nconst PinCoordinatesPopup = { addPopup, clearOverlays };\n\nexport default PinCoordinatesPopup;\n","import { Map, MapBrowserEvent } from 'ol';\nimport { EventsKey } from 'ol/events';\nimport { unByKey } from 'ol/Observable';\nimport PinCoordinatesPopup from './PinCoordinatesPopup';\n\nlet evtKeys: EventsKey;\ninterface StartPinCoordinateInteractionProps {\n  map: Map;\n  options?: {\n    copyText?: string;\n    copiedText?: string;\n  };\n}\n\nconst startPinCoordinateInteraction = ({\n  map,\n  options,\n}: StartPinCoordinateInteractionProps): void => {\n  map.getViewport().style.cursor = 'crosshair';\n\n  evtKeys = map.on('singleclick', (e: MapBrowserEvent) => {\n    const position = e.coordinate;\n    PinCoordinatesPopup.addPopup({\n      map,\n      position,\n      options: {\n        clearOthers: true,\n        copyText: options?.copyText,\n        copiedText: options?.copiedText,\n      },\n    });\n  });\n};\n\nconst stopPinCoordinateInteraction = (map: Map): void => {\n  map.getViewport().style.cursor = '';\n  PinCoordinatesPopup.clearOverlays(map);\n  if (evtKeys) unByKey(evtKeys);\n};\n\nexport default { startPinCoordinateInteraction, stopPinCoordinateInteraction };\n","import GoogleStreetView from './GoogleStreetView';\nimport ExportMapImage from './ExportMapImage';\nimport ExportMapPDF from './ExportMapPDF';\nimport MeasureDistance from './Measure/MeasureDistance';\nimport MeasureArea from './Measure/MeasureArea';\nimport ClearMeasures from './Measure/ClearMeasures';\nimport MeasureRadius from './Measure/MeasureRadius';\nimport PinCoordinates from './PinCoordinates';\nimport ControlButton from './ControlButton';\nimport GetCurrentLocation from './CurrentLocation';\n\nexport default {\n  GoogleStreetView,\n  ExportMapImage,\n  ExportMapPDF,\n  MeasureDistance,\n  MeasureArea,\n  ClearMeasures,\n  MeasureRadius,\n  PinCoordinates,\n  ControlButton,\n  GetCurrentLocation,\n};\n","import React, { useCallback } from 'react';\nimport { FaStreetView } from 'react-icons/fa';\nimport { useMap } from '../../../Hooks';\nimport GoogleStreetViewLib from './GoogleStreetViewLib';\nimport ControlButton, { ControlButtonProps } from '../ControlButton';\n\nexport type GoogleStreetViewProps = Omit<\n  ControlButtonProps,\n  'controlKey' | 'disable' | 'enable' | 'loading'\n>;\n\nconst GoogleStreetView: React.FC<GoogleStreetViewProps> = ({\n  styled,\n  activeLabel = {\n    title: 'Google Street View',\n    text: 'Single click on desired location to open street view.',\n  },\n  children,\n  color,\n  icon,\n  toolTipText,\n}) => {\n  const { map } = useMap();\n\n  const onEnable = useCallback(() => {\n    if (map) {\n      GoogleStreetViewLib.enableGoogleStreetView(map);\n    }\n  }, [map]);\n\n  const onDisable = useCallback(() => {\n    if (map) {\n      GoogleStreetViewLib.disableGoogleStreetView(map);\n    }\n  }, [map]);\n\n  return (\n    <ControlButton\n      styled={!!styled}\n      icon={icon || <FaStreetView size={20} color='#fff' />}\n      color={color || '#FE2C54'}\n      activeLabel={activeLabel}\n      controlKey='GoogleStreetView'\n      enable={onEnable}\n      disable={onDisable}\n      toolTipText={toolTipText || 'Google Street View'}\n    >\n      {children}\n    </ControlButton>\n  );\n};\n\nexport default GoogleStreetView;\n","import React, { useCallback, useState } from 'react';\nimport { FaImage } from 'react-icons/fa';\nimport { useMap } from '../../../Hooks';\nimport ExportMapImageLib from './ExportMapImageLib';\nimport ControlButton, { ControlButtonProps } from '../ControlButton';\n\nexport type ExportMapImageProps = Omit<\n  ControlButtonProps,\n  'controlKey' | 'disable' | 'enable' | 'loading'\n>;\n\nconst ExportMapImage: React.FC<ExportMapImageProps> = ({\n  styled,\n  activeLabel = { text: 'Generating image...' },\n  icon,\n  color,\n  toolTipText,\n}) => {\n  const [rendering, setRendering] = useState(false);\n  const { map, setActiveMenuControl } = useMap();\n\n  const onEnable = useCallback(() => {\n    if (!map) return;\n    setRendering(true);\n    ExportMapImageLib.exportPNG(map, () => {\n      setActiveMenuControl(undefined);\n      setRendering(false);\n    });\n  }, [map, setActiveMenuControl]);\n\n  const onDisable = useCallback(() => {\n    setActiveMenuControl(undefined);\n    setRendering(false);\n  }, [setActiveMenuControl]);\n\n  return (\n    <ControlButton\n      styled={styled}\n      icon={icon || <FaImage size={20} color='#fff' />}\n      activeLabel={activeLabel}\n      color={color || '#9ACD32'}\n      controlKey='ExportMapImage'\n      loading={rendering}\n      enable={onEnable}\n      disable={onDisable}\n      toolTipText={toolTipText || 'Export Image of Current View'}\n    />\n  );\n};\n\nexport default ExportMapImage;\n","import React, { useCallback, useState } from 'react';\nimport { FaFilePdf } from 'react-icons/fa';\nimport ExportPDFModal, { ExportPDFModalOptions } from './ExportPDFModal';\nimport { useMap } from '../../../Hooks';\nimport ControlButton, { ControlButtonProps } from '../ControlButton';\n\nexport interface ExportMapPDFProps\n  extends Omit<\n    ControlButtonProps,\n    'controlKey' | 'disable' | 'enable' | 'loading'\n  > {\n  options?: ExportPDFModalOptions;\n}\n\nconst ExportMapPDF: React.FC<ExportMapPDFProps> = ({\n  styled,\n  activeLabel,\n  icon,\n  color,\n  options,\n  toolTipText,\n}) => {\n  const [isModalOpen, setModalIsOpen] = useState(false);\n\n  const { setActiveMenuControl } = useMap();\n\n  const onEnable = useCallback(() => {\n    setModalIsOpen(true);\n  }, []);\n\n  const closeModal = useCallback(() => {\n    setModalIsOpen(false);\n    setActiveMenuControl(undefined);\n  }, [setActiveMenuControl]);\n\n  return (\n    <ControlButton\n      styled={styled}\n      icon={icon || <FaFilePdf size={20} color='#fff' />}\n      activeLabel={activeLabel || false}\n      color={color || '#9ACD32'}\n      controlKey='ExportMapPDF'\n      enable={onEnable}\n      loading={isModalOpen}\n      toolTipText={toolTipText || 'Generate PDF image of current view'}\n    >\n      <ExportPDFModal\n        isOpen={isModalOpen}\n        onClose={closeModal}\n        options={options}\n      />\n    </ControlButton>\n  );\n};\n\nexport default ExportMapPDF;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { FaEraser, FaRuler } from 'react-icons/fa';\nimport MeasureDistanceLib from './MeasureDistanceLib';\nimport { useMap } from '../../../../Hooks';\nimport VectorSource from 'ol/source/Vector';\nimport Fill from 'ol/style/Fill';\nimport Stroke from 'ol/style/Stroke';\nimport Style from 'ol/style/Style';\nimport Circle from 'ol/style/Circle';\nimport VectorLayer from 'ol/layer/Vector';\nimport GeometryType from 'ol/geom/GeometryType';\nimport ControlButton, { ControlButtonProps } from '../../ControlButton';\n\nexport type MeasureDistanceProps = Omit<\n  ControlButtonProps,\n  'controlKey' | 'disable' | 'enable' | 'loading'\n>;\nconst MeasureDistance: React.FC<MeasureDistanceProps> = ({\n  styled,\n  activeLabel = {\n    title: 'Measure Distances',\n    text: 'Click on map to start drawing.',\n  },\n  icon,\n  color,\n  toolTipText,\n  badgeButton,\n}) => {\n  const [source] = useState<VectorSource>(new VectorSource());\n  const [vector] = useState<VectorLayer>(\n    new VectorLayer({\n      zIndex: 1000,\n      source: source,\n      style: new Style({\n        fill: new Fill({\n          color: 'rgb(42, 82, 188)',\n        }),\n        stroke: new Stroke({\n          color: 'rgb(42, 82, 188)',\n          width: 3,\n        }),\n        image: new Circle({\n          radius: 7,\n          fill: new Fill({\n            color: 'rgb(42, 82, 188)',\n          }),\n        }),\n      }),\n    })\n  );\n  const { map, addLayer, setActiveMenuControl } = useMap();\n\n  useEffect(() => {\n    if (map) {\n      addLayer({ layerKey: 'measureDistance', layerObject: vector });\n    }\n  }, [map, addLayer, vector]);\n\n  const onEnable = useCallback(() => {\n    if (map && source) {\n      MeasureDistanceLib.StartMeasure({\n        map,\n        source,\n        type: GeometryType.LINE_STRING,\n      });\n    }\n  }, [map, source]);\n\n  const onDisable = useCallback(() => {\n    if (map) MeasureDistanceLib.StopMeasure({ map });\n  }, [map]);\n\n  const onClear = useCallback(() => {\n    source.clear();\n    if (!map) return;\n    setActiveMenuControl(undefined);\n    MeasureDistanceLib.ClearOverlays({ map });\n  }, [source, map, setActiveMenuControl]);\n\n  return (\n    <ControlButton\n      styled={styled}\n      icon={icon || <FaRuler size={20} color='#fff' />}\n      activeLabel={activeLabel}\n      color={color || '#446CD5'}\n      controlKey='MeasureDistance'\n      enable={onEnable}\n      disable={onDisable}\n      toolTipText={toolTipText || 'Draw polyline and get total length'}\n      badgeButton={\n        badgeButton || badgeButton === false\n          ? badgeButton\n          : {\n              content: <FaEraser size={14} color='#fff' />,\n              action: onClear,\n              toolTipText: 'Clear drawings',\n            }\n      }\n    />\n  );\n};\n\nexport default MeasureDistance;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { FaDrawPolygon, FaEraser } from 'react-icons/fa';\nimport MeasureAreaLib from './MeasureAreaLib';\nimport { useMap } from '../../../../Hooks';\nimport VectorSource from 'ol/source/Vector';\nimport Fill from 'ol/style/Fill';\nimport Stroke from 'ol/style/Stroke';\nimport Style from 'ol/style/Style';\nimport Circle from 'ol/style/Circle';\nimport VectorLayer from 'ol/layer/Vector';\nimport GeometryType from 'ol/geom/GeometryType';\nimport ControlButton, { ControlButtonProps } from '../../ControlButton';\n\nexport type MeasureAreaProps = Omit<\n  ControlButtonProps,\n  'controlKey' | 'disable' | 'enable' | 'loading'\n>;\n\nconst MeasureArea: React.FC<MeasureAreaProps> = ({\n  styled,\n  activeLabel = {\n    title: 'Measure Area',\n    text: 'Click on map to start drawing.',\n  },\n  icon,\n  color,\n  toolTipText,\n  badgeButton,\n}) => {\n  const [source] = useState<VectorSource>(new VectorSource());\n  const [vector] = useState<VectorLayer>(\n    new VectorLayer({\n      zIndex: 1000,\n      source: source,\n      style: new Style({\n        fill: new Fill({\n          color: 'rgba(1, 171, 116,0.2)',\n        }),\n        stroke: new Stroke({\n          color: 'rgba(1, 171, 116,1)',\n          width: 2,\n        }),\n        image: new Circle({\n          radius: 7,\n          fill: new Fill({\n            color: 'rgba(1, 171, 116,0.2)',\n          }),\n        }),\n      }),\n    })\n  );\n  const { map, addLayer, setActiveMenuControl } = useMap();\n\n  useEffect(() => {\n    if (map) {\n      addLayer({ layerKey: 'measureArea', layerObject: vector });\n    }\n  }, [map, addLayer, vector]);\n\n  const onEnable = useCallback(() => {\n    if (map && source) {\n      MeasureAreaLib.StartMeasure({\n        map,\n        source,\n        type: GeometryType.POLYGON,\n      });\n    }\n  }, [map, source]);\n\n  const onDisable = useCallback(() => {\n    if (map) MeasureAreaLib.StopMeasure({ map });\n  }, [map]);\n\n  const onClear = useCallback(() => {\n    source.clear();\n    if (!map) return;\n    setActiveMenuControl(undefined);\n    MeasureAreaLib.ClearOverlays({ map });\n  }, [source, map, setActiveMenuControl]);\n\n  return (\n    <ControlButton\n      styled={styled}\n      icon={icon || <FaDrawPolygon size={20} color='#fff' />}\n      activeLabel={activeLabel}\n      color={color || '#446CD5'}\n      controlKey='MeasureArea'\n      enable={onEnable}\n      disable={onDisable}\n      toolTipText={toolTipText || 'Draw polygon to measure content area'}\n      badgeButton={\n        badgeButton || badgeButton === false\n          ? badgeButton\n          : {\n              content: <FaEraser size={14} color='#fff' />,\n              action: onClear,\n              toolTipText: 'Clear drawings',\n            }\n      }\n    />\n  );\n};\n\nexport default MeasureArea;\n","import React, { useCallback, useState } from 'react';\nimport { FaTrashAlt } from 'react-icons/fa';\nimport DrawCircleLib from '../MeasureRadius/DrawCircleLib';\nimport MeasureDistanceLib from '../MeasureDistance/MeasureDistanceLib';\nimport MeasureAreaLib from '../MeasureArea/MeasureAreaLib';\nimport { useMap } from '../../../../Hooks';\nimport VectorLayer from 'ol/layer/Vector';\nimport ControlButton, { ControlButtonProps } from '../../ControlButton';\n\nexport type ClearMeasuresProps = Omit<\n  ControlButtonProps,\n  'controlKey' | 'disable' | 'enable' | 'loading'\n>;\n\nconst ClearMeasures: React.FC<ClearMeasuresProps> = ({\n  styled,\n  activeLabel = { text: 'Cleaning drawings...' },\n  icon,\n  color,\n  toolTipText,\n}) => {\n  const [isClearing, setIsClearing] = useState(false);\n  const { setActiveMenuControl, map, getLayer } = useMap();\n\n  const onEnable = useCallback(() => {\n    if (!map) return;\n    setIsClearing(true);\n    setTimeout(() => {\n      const clearLayer = (key: string): void => {\n        const layer = getLayer(key) as VectorLayer;\n        if (layer) layer.getSource().clear();\n      };\n      clearLayer('measureDistance');\n      clearLayer('measureArea');\n      clearLayer('measureRadius');\n      MeasureAreaLib.ClearOverlays({ map });\n      MeasureDistanceLib.ClearOverlays({ map });\n      DrawCircleLib.ClearOverlays({ map });\n      setActiveMenuControl(undefined);\n    }, 750);\n  }, [setActiveMenuControl, getLayer, map]);\n\n  const onDisable = useCallback(() => {\n    setIsClearing(false);\n  }, []);\n\n  return (\n    <ControlButton\n      styled={styled}\n      icon={icon || <FaTrashAlt size={20} color='#fff' />}\n      activeLabel={activeLabel}\n      color={color || '#446CD5'}\n      enable={onEnable}\n      disable={onDisable}\n      controlKey='ClearMeasures'\n      loading={isClearing}\n      toolTipText={toolTipText || 'Clear all measures from the map'}\n    />\n  );\n};\n\nexport default ClearMeasures;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { RiShareCircleFill } from 'react-icons/ri';\nimport DrawCircleLib from './DrawCircleLib';\nimport { useMap } from '../../../../Hooks';\nimport VectorSource from 'ol/source/Vector';\nimport Fill from 'ol/style/Fill';\nimport Stroke from 'ol/style/Stroke';\nimport Style from 'ol/style/Style';\nimport Circle from 'ol/style/Circle';\nimport VectorLayer from 'ol/layer/Vector';\nimport ControlButton, { ControlButtonProps } from '../../ControlButton';\nimport { FaEraser } from 'react-icons/fa';\n\nexport type MeasureRadiusProps = Omit<\n  ControlButtonProps,\n  'controlKey' | 'disable' | 'enable' | 'loading'\n>;\n\nconst MeasureRadius: React.FC<MeasureRadiusProps> = ({\n  styled,\n  activeLabel = {\n    title: 'Measure Radius',\n    text: 'Click on map to start drawing.',\n  },\n  icon,\n  color,\n  toolTipText,\n  badgeButton,\n}) => {\n  const [source] = useState<VectorSource>(new VectorSource());\n  const [vector] = useState<VectorLayer>(\n    new VectorLayer({\n      zIndex: 1000,\n      source: source,\n      style: new Style({\n        fill: new Fill({\n          color: 'rgba(98, 65, 199,0.2)',\n        }),\n        stroke: new Stroke({\n          color: 'rgba(98, 65, 199,1)',\n          width: 2,\n        }),\n        image: new Circle({\n          radius: 7,\n          fill: new Fill({\n            color: 'rgba(98, 65, 199,0.2)',\n          }),\n        }),\n      }),\n    })\n  );\n  const { map, addLayer, setActiveMenuControl } = useMap();\n\n  useEffect(() => {\n    if (map) {\n      addLayer({ layerKey: 'measureRadius', layerObject: vector });\n    }\n  }, [map, addLayer, vector]);\n\n  const onEnable = useCallback(() => {\n    if (map && source) {\n      DrawCircleLib.StartMeasure({ map, source });\n    }\n  }, [map, source]);\n\n  const onDisable = useCallback(() => {\n    if (map) {\n      DrawCircleLib.StopMeasure({ map });\n    }\n  }, [map]);\n  const onClear = useCallback(() => {\n    source.clear();\n    if (!map) return;\n    setActiveMenuControl(undefined);\n    DrawCircleLib.ClearOverlays({ map });\n  }, [source, map, setActiveMenuControl]);\n  return (\n    <ControlButton\n      styled={styled}\n      icon={icon || <RiShareCircleFill size={20} color='#fff' />}\n      activeLabel={activeLabel}\n      color={color || '#446CD5'}\n      controlKey='MeasureRadius'\n      enable={onEnable}\n      disable={onDisable}\n      toolTipText={toolTipText || 'Draw a circle and get final radius.'}\n      badgeButton={\n        badgeButton || badgeButton === false\n          ? badgeButton\n          : {\n              content: <FaEraser size={14} color='#fff' />,\n              action: onClear,\n              toolTipText: 'Clear drawings',\n            }\n      }\n    />\n  );\n};\n\nexport default MeasureRadius;\n","import React, { useCallback } from 'react';\nimport { FaMapMarkerAlt } from 'react-icons/fa';\nimport PinCoordinatesLib from './PinCoordinatesLib';\nimport { useMap } from '../../../Hooks';\nimport ControlButton, { ControlButtonProps } from '../ControlButton';\n\nexport interface PinCoordinatesProps\n  extends Omit<\n    ControlButtonProps,\n    'controlKey' | 'disable' | 'enable' | 'loading'\n  > {\n  copyText?: string;\n  copiedText?: string;\n}\n\nconst PinCoordinates: React.FC<PinCoordinatesProps> = ({\n  styled,\n  activeLabel = {\n    title: 'Get Coordinates',\n    text: 'Click on desired location on map to get information.',\n  },\n  icon,\n  color,\n  toolTipText,\n  copyText,\n  copiedText,\n}) => {\n  const { map } = useMap();\n\n  const onEnable = useCallback(() => {\n    if (!map) return;\n    PinCoordinatesLib.startPinCoordinateInteraction({\n      map,\n      options: { copyText, copiedText },\n    });\n  }, [map, copyText, copiedText]);\n\n  const onDisable = useCallback(() => {\n    if (!map) return;\n    PinCoordinatesLib.stopPinCoordinateInteraction(map);\n  }, [map]);\n\n  return (\n    <ControlButton\n      styled={styled}\n      icon={icon || <FaMapMarkerAlt size={20} color='#fff' />}\n      activeLabel={activeLabel}\n      color={color || '#FF8C00'}\n      controlKey='PinCoordinates'\n      enable={onEnable}\n      disable={onDisable}\n      toolTipText={toolTipText || 'Get Coordinates from point'}\n    />\n  );\n};\n\nexport default PinCoordinates;\n","import { circular } from 'ol/geom/Polygon';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { BiCurrentLocation } from 'react-icons/bi';\nimport ControlButton, { ControlButtonProps } from '../ControlButton';\nimport { useMap } from '../../../Hooks';\nimport VectorSource from 'ol/source/Vector';\nimport Fill from 'ol/style/Fill';\nimport Stroke from 'ol/style/Stroke';\nimport Style from 'ol/style/Style';\nimport Circle from 'ol/style/Circle';\nimport VectorLayer from 'ol/layer/Vector';\nimport { Feature } from 'ol';\nimport Point from 'ol/geom/Point';\nimport { fromLonLat } from 'ol/proj';\nimport { FaTrashAlt } from 'react-icons/fa';\n\nexport type GetCurrentLocationProps = Omit<\n  ControlButtonProps,\n  'controlKey' | 'disable' | 'enable' | 'loading'\n>;\n\nconst GetCurrentLocation: React.FC<GetCurrentLocationProps> = ({\n  styled,\n  activeLabel,\n  icon,\n  color,\n  toolTipText = 'Current Location',\n  badgeButton,\n}) => {\n  const [source] = useState<VectorSource>(new VectorSource());\n  const [vector] = useState<VectorLayer>(\n    new VectorLayer({\n      zIndex: 1000,\n      source: source,\n      style: new Style({\n        fill: new Fill({\n          color: 'rgba(42, 82, 188,0.15)',\n        }),\n        stroke: new Stroke({\n          color: 'rgba(42, 82, 188,0.8)',\n          width: 2,\n        }),\n        image: new Circle({\n          radius: 7,\n          fill: new Fill({\n            color: 'rgba(42, 82, 188,0.8)',\n          }),\n        }),\n      }),\n    })\n  );\n  const { map, addLayer, setActiveMenuControl } = useMap();\n\n  useEffect(() => {\n    if (map) {\n      addLayer({ layerKey: 'currentLocation', layerObject: vector });\n    }\n  }, [map, addLayer, vector]);\n\n  const onClear = useCallback(() => {\n    source.clear();\n  }, [source]);\n\n  const onEnable = useCallback(() => {\n    if (!map) return;\n    navigator.geolocation.getCurrentPosition((pos: Position) => {\n      const coords = [pos.coords.longitude, pos.coords.latitude];\n      const accuracy = circular(coords, pos.coords.accuracy);\n      source.clear();\n      source.addFeatures([\n        new Feature(\n          accuracy.transform('EPSG:4326', map.getView().getProjection())\n        ),\n        new Feature(new Point(fromLonLat(coords))),\n      ]);\n      map.getView().fit(source.getExtent(), {\n        maxZoom: 18,\n        duration: 500,\n      });\n      setTimeout(() => {\n        setActiveMenuControl(undefined);\n      }, 1000);\n    });\n  }, [map, source, setActiveMenuControl]);\n\n  return (\n    <ControlButton\n      styled={styled}\n      icon={icon || <BiCurrentLocation size={20} color='#fff' />}\n      activeLabel={activeLabel}\n      color={color || '#FF8C00'}\n      controlKey='GetCurrentLocation'\n      enable={onEnable}\n      toolTipText={toolTipText}\n      badgeButton={\n        badgeButton || badgeButton === false\n          ? badgeButton\n          : {\n              content: <FaTrashAlt size={14} color='#fff' />,\n              action: onClear,\n              toolTipText: 'Clear map',\n            }\n      }\n    />\n  );\n};\n\nexport default GetCurrentLocation;\n","import React, { useEffect } from 'react';\nimport { ControlProps, useMap } from '../../Hooks';\nimport { Options as TileDebugOptions } from 'ol/source/TileDebug';\nimport styles from './styles.module.scss';\nimport StyledMenu, { StyledMenuProps } from '../StyledMenu';\n\nexport interface StyledMapProps {\n  id?: string;\n  osmBasemap?: boolean;\n  defaultControls?: ControlProps;\n  startZoom?: number;\n  startCoordinates?: [number, number];\n  tileDebug?: TileDebugOptions;\n}\n\nconst StyledMap: React.FC<StyledMapProps> & {\n  Controls: React.FC<StyledMenuProps>;\n} = ({\n  id,\n  osmBasemap,\n  defaultControls,\n  startZoom,\n  startCoordinates,\n  tileDebug,\n  children,\n}) => {\n  const { initMap } = useMap();\n  useEffect(() => {\n    initMap({\n      id: id || 'map',\n      startCoordinates: startCoordinates || [0, 0],\n      startZoom: startZoom,\n      defaultControls,\n      defaultOSMBasemap: osmBasemap,\n      tileDebug,\n    });\n  }, [\n    id,\n    osmBasemap,\n    defaultControls,\n    initMap,\n    startCoordinates,\n    startZoom,\n    tileDebug,\n  ]);\n  return (\n    <div className={styles.container}>\n      <div\n        id={id || 'map'}\n        style={{\n          width: '100%',\n          height: '100%',\n        }}\n      />\n      {children}\n    </div>\n  );\n};\n\nStyledMap.Controls = StyledMenu;\n\nexport default StyledMap;\n","import React from 'react';\nimport styles from './StyledMenu.module.scss';\nimport classNames from 'classnames';\n\nexport interface StyledMenuProps {\n  showRibbon?: boolean;\n}\n\nconst StyledMenu: React.FC<StyledMenuProps> = ({\n  showRibbon = true,\n  children,\n}) => {\n  if (!children) return <span />;\n  return (\n    <div\n      id='StyledMenu'\n      className={classNames(\n        'ol-control',\n        styles.container,\n        showRibbon && styles.ribbon\n      )}\n    >\n      <div className={styles.content}>{children}</div>\n    </div>\n  );\n};\nexport default StyledMenu;\n","import styled from  'styled-components'\n\n\n\nexport const Content = styled.div`\n  height:100%;\n  /* height:500px;\n  width:500px; */\n`;","import React from 'react'\nimport { StyledMap,Controls } from 'react-openlayers-styled-map'\nimport 'react-openlayers-styled-map/dist/index.css'\nimport Layout from '../../components/Layout'\nimport { Content } from './styles'\n\n\nconst HomePage:React.FC = ()=>{\n  return (\n  <Layout>\n    <Content>\n      <StyledMap\n        osmBasemap\n        defaultControls={{\n          fullScreenMode:{},\n          scale:{bar:true,minWidth:100},\n          zoomButtons:{},\n          zoomSlider:{}\n        }}\n        startCoordinates={[-49.20,-26.50]}\n        startZoom={11}\n      >\n        <StyledMap.Controls showRibbon >\n          <Controls.GoogleStreetView styled/>\n          <Controls.ExportMapImage  styled/>\n          <Controls.ExportMapPDF  styled/>\n          <Controls.MeasureArea styled />\n          <Controls.MeasureDistance styled />\n          <Controls.MeasureRadius styled />\n          <Controls.ClearMeasures styled />\n          <Controls.PinCoordinates styled/>\n          <Controls.GetCurrentLocation styled />\n        </StyledMap.Controls>\n      </StyledMap>\n    </Content>\n  </Layout>\n  )\n}\n\nexport default HomePage","import { isMobile } from 'react-device-detect';\nimport styled from 'styled-components'\n\n\nexport const Content = styled.div`\n  height:100%;\n  width:100%;\n  display:flex;\n  flex-direction:row;\n  flex-wrap:wrap;\n`;\n\n\nexport const MapContainer = styled.section`\n  height:${isMobile ? '90%' : '100%'};\n  box-sizing:border-box;\n  margin-left:auto;\n  margin-right:auto;\n  min-width:320px;\n  flex-grow:2;\n`;\n\nexport const SidebarContainer = styled.section`\n  height:100%;\n  box-sizing:border-box;\n  width:300px;\n  border-left:2px solid black;\n`;\n","import styled from 'styled-components'\n\n\nexport const Content = styled.div`\n  padding:5px;\n  font-size:12px;\n  \n  \n  textarea {\n    font-size:10px;\n  }\n`;","import React, { ChangeEvent, useCallback, useEffect, useState } from 'react'\nimport { useMap } from 'react-openlayers-styled-map'\nimport TileLayer from 'ol/layer/Tile';\nimport TileDebug from 'ol/source/TileDebug';\nimport OSM from 'ol/source/OSM';\nimport { Content } from './styled';\nimport {  useForm } from 'react-hook-form';\nimport XYZ from 'ol/source/XYZ';\nimport TileWMS from 'ol/source/TileWMS';\ntype XYZFormData = {\n  xyzSourceOptions:string;\n  xyzLayerOptions:string;\n  xyzKey:string;\n  wmsKey:string;\n  wmsSourceOptions:string;\n  wmsLayerOptions:string;\n}\n\nconst Sidebar:React.FC = () => {\n  const [tileDebug,setTileDebug] = useState(false)\n  const [osmBasemap,setOsmBasemap] = useState(false)\n  const {addLayer,removeLayer} = useMap()\n  const { register, handleSubmit } = useForm<XYZFormData>();\n\n  useEffect(()=>{\n    setTileDebug(true)\n    setOsmBasemap(true)\n  },[])\n\n  const handleTileDebug = useCallback((e:ChangeEvent<HTMLInputElement>)=>{\n    setTileDebug(e.target.checked)\n  },[])\n  const handleOSMBasemap = useCallback((e:ChangeEvent<HTMLInputElement>)=>{\n    setOsmBasemap(e.target.checked)\n  },[])\n\n\n  const onSubmitXYZ = handleSubmit(({xyzSourceOptions,xyzKey,xyzLayerOptions})=>{\n    const sourceOptions = JSON.parse(xyzSourceOptions)\n    const layerOptions = JSON.parse(xyzLayerOptions)\n    if(sourceOptions && layerOptions && xyzKey){\n      console.log(layerOptions,sourceOptions)\n      addLayer({\n        layerKey:xyzKey,\n        layerObject: new TileLayer({\n          ...layerOptions,\n          source: new XYZ(sourceOptions),\n        })\n      })\n    }\n  })\n  const onSubmitWMS = handleSubmit(({wmsKey,wmsSourceOptions,wmsLayerOptions})=>{\n    const sourceOptions = JSON.parse(wmsSourceOptions)\n    const layerOptions = JSON.parse(wmsLayerOptions)\n    if(layerOptions && sourceOptions && wmsKey){\n      console.log(layerOptions,sourceOptions)\n      addLayer({\n        layerKey:wmsKey,\n        layerObject: new TileLayer({\n          ...layerOptions,\n          source: new TileWMS(sourceOptions)\n        })\n      })\n    }\n  })\n\n  const onRemoveWMS = handleSubmit(({wmsKey})=>{\n    if(wmsKey) removeLayer({layerKey:wmsKey})\n  })\n  const onRemoveXYZ = handleSubmit(({xyzKey})=>{\n    if(xyzKey) removeLayer({layerKey:xyzKey})\n  })\n\n  useEffect(()=>{\n    if(tileDebug){\n      addLayer({\n        layerKey:'tileDebug',\n        layerObject: new TileLayer({\n          zIndex:1000,\n          source: new TileDebug()\n        })\n      })\n    }else{\n      removeLayer({layerKey:'tileDebug'})\n    }\n  },[addLayer,removeLayer,tileDebug])\n\n\n  useEffect(()=>{\n    if(osmBasemap){\n      addLayer({\n        layerKey:'osmBasemap',\n        layerObject: new TileLayer({\n          zIndex:1,\n          source: new OSM()\n        })\n      })\n    }else{\n      removeLayer({layerKey:'osmBasemap'})\n    }\n  },[addLayer,removeLayer,osmBasemap])\n\n  return (\n    <Content>\n        <input \n          id='tileDebug'\n          name='tileDebug' \n          type='checkbox' \n          checked={tileDebug}\n          onChange={handleTileDebug}\n        />\n        <label htmlFor=\"tileDebug\">  XYZ Tile Debug</label>\n        <br/>\n        <input \n          id='osmBasemap'\n          name='osmBasemap' \n          type='checkbox' \n          checked={osmBasemap}\n          onChange={handleOSMBasemap}\n        />\n        <label htmlFor=\"osmBasemap\">OSM Basemap</label>\n        <div style={{\n          marginTop:'10px',\n          borderTop:'2px solid black',\n          width:'100%',\n          textAlign:'center',\n          display:'flex',\n          flexDirection:'column',\n          justifyContent:'center',\n          alignItems:'center'\n          }}>\n          <span style={{fontWeight:'bold',fontSize:'18px'}}>\n          XYZ Tiles\n          </span>\n          <label htmlFor=\"xyzLayerOptions\">Layer Options: &nbsp;\n            <a rel=\"noopener noreferrer\" \n              target=\"_blank\"\n              href=\"https://openlayers.org/en/latest/apidoc/module-ol_layer_Tile-TileLayer.html\">\n              Open OL Specification\n            </a>\n          </label>\n          <textarea \n          defaultValue={JSON.stringify(\n            {\n              zIndex:1,\n            },null,2)}\n          ref={register} \n          id='xyzLayerOptions' \n          name='xyzLayerOptions' \n          style={{height:'70px',width:'100%'}}\n          />\n          <label htmlFor=\"xyzSourceOptions\">XYZ Source Config: &nbsp;\n          <a rel=\"noopener noreferrer\" \n          target=\"_blank\" \n          href=\"https://openlayers.org/en/latest/apidoc/module-ol_source_XYZ-XYZ.html\">\n            Open OL Specification\n          </a>\n          </label>\n          <textarea \n          defaultValue={JSON.stringify(\n            {\n              url:'https://mt0.google.com/vt/lyrs=s&x={x}&y={y}&z={z}',\n              maxZoom:18,\n              tileSize:256,\n              transition:200,\n              crossOrigin:true\n            },null,2)}\n          ref={register} \n          id='xyzSourceOptions' \n          name='xyzSourceOptions' \n          style={{height:'120px',width:'100%'}}\n          />\n          <br/>\n          <label htmlFor=\"xyzKey\">Name an unique key for the layer:</label>\n          <input id='xyzKey' name='xyzKey' defaultValue='xyz-layer-1' ref={register}/>\n          <input type=\"submit\" value='Add XYZ Layer' onClick={onSubmitXYZ}/>\n          <input type=\"submit\" value='Remove XYZ Layer by Key' onClick={onRemoveXYZ}/>\n        </div>\n        <div style={{\n          marginTop:'10px',\n          borderTop:'2px solid black',\n          width:'100%',\n          textAlign:'center',\n          display:'flex',\n          flexDirection:'column',\n          justifyContent:'center',\n          alignItems:'center'\n        }}>\n          <span style={{fontWeight:'bold',fontSize:'18px'}}>\n          WMS Tiles\n          </span>\n          <label htmlFor=\"xyzLayerOptions\">\n            Layer Options: &nbsp;\n            <a rel=\"noopener noreferrer\" \n              target=\"_blank\"\n              href=\"https://openlayers.org/en/latest/apidoc/module-ol_layer_Tile-TileLayer.html\">\n              Open OL Specification\n            </a>         \n          </label>\n\n          <textarea \n          defaultValue={JSON.stringify(\n            {\n              zIndex:2,\n            },null,2)}\n          ref={register} \n          id='wmsLayerOptions' \n          name='wmsLayerOptions' \n          style={{height:'70px',width:'100%'}}\n          />\n          <label htmlFor=\"wmsOptions\">\n            TiledWMS Source Config: &nbsp;\n            <a rel=\"noopener noreferrer\" \n              target=\"_blank\" \n              href=\"https://openlayers.org/en/latest/apidoc/module-ol_source_XYZ-XYZ.html\">\n                See OL Specification\n            </a>\n          </label>\n          <textarea \n          defaultValue={JSON.stringify(\n            {\n              url: 'https://ahocevar.com/geoserver/wms',\n              params: {'LAYERS': 'topp:states', 'TILED': true},\n              serverType: 'geoserver',\n              transition: 0,\n              crossOrigin:true\n            },null,2)}\n          ref={register} \n          id='wmsSourceOptions' \n          name='wmsSourceOptions' \n          style={{height:'120px',width:'100%'}}\n          />\n          <label htmlFor=\"wmsKey\" >Name an unique key for the layer:</label>\n          <input \n            id='wmsKey' \n            name='wmsKey' \n            defaultValue='wms-layer-1' \n            ref={register}\n            />\n          <input type=\"submit\" value='Add WMS Layer' onClick={onSubmitWMS}/>\n          <input type=\"submit\" value='Remove WMS Layer by Key' onClick={onRemoveWMS}/>\n        </div>\n    </Content>\n  )\n}\n\nexport default Sidebar","import React from 'react'\nimport Layout from '../../components/Layout'\nimport { Content, MapContainer, SidebarContainer } from './styles'\nimport { StyledMap,Controls } from 'react-openlayers-styled-map'\nimport Sidebar from './Sidebar'\n\n\n\nconst MapDebug:React.FC = () => {\n  return (\n  <Layout>\n    <Content>\n      <MapContainer>\n      <StyledMap\n        defaultControls={{\n          fullScreenMode:{},\n          scale:{bar:true,minWidth:100},\n          zoomButtons:{},\n          zoomSlider:{}\n        }}\n        startCoordinates={[-69.20,10]}\n        startZoom={4}\n      >\n        <StyledMap.Controls showRibbon >\n          <Controls.GoogleStreetView styled/>\n          <Controls.ExportMapImage styled />\n          <Controls.ExportMapPDF styled />\n          <Controls.MeasureArea styled />\n          <Controls.MeasureDistance styled />\n          <Controls.MeasureRadius styled />\n          <Controls.ClearMeasures styled />\n          <Controls.PinCoordinates styled />\n        </StyledMap.Controls>\n      </StyledMap>\n      </MapContainer>\n      <SidebarContainer>\n        <Sidebar/>\n      </SidebarContainer>\n    </Content>\n  </Layout>\n  )\n}\n\n\nexport default MapDebug","import styled from  'styled-components'\n\n\n\nexport const Content = styled.div`\n  height:500px;\n  width:500px;\n`;","import React from 'react'\nimport { StyledMap,Controls } from 'react-openlayers-styled-map'\nimport 'react-openlayers-styled-map/dist/index.css'\nimport Layout from '../../components/Layout'\nimport { Content } from './styles'\n\n\nconst UnStyledMapPage:React.FC = ()=>{\n  return (\n  <Layout>\n    <Content>\n      <StyledMap\n        osmBasemap\n        defaultControls={{\n          fullScreenMode:{},\n          scale:{bar:true,minWidth:100},\n          zoomButtons:{},\n          zoomSlider:{}\n        }}\n        startCoordinates={[-49.20,-26.50]}\n        startZoom={11}\n      >\n        <StyledMap.Controls showRibbon={false} >\n          <Controls.GoogleStreetView />\n          <Controls.ExportMapImage  />\n          <Controls.ExportMapPDF  />\n          <Controls.MeasureArea  />\n          <Controls.MeasureDistance  />\n          <Controls.MeasureRadius  />\n          <Controls.ClearMeasures  />\n          <Controls.PinCoordinates  />\n        </StyledMap.Controls>\n      </StyledMap>\n    </Content>\n  </Layout>\n  )\n}\n\nexport default UnStyledMapPage","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport BlankPage from '../pages/BlankPage';\nimport HomePage from '../pages/HomePage';\nimport MapDebug from '../pages/MapDebug';\nimport UnStyledMapPage from '../pages/UnStyledMapPage';\n\n\nconst Routes: React.FC = () => {\n  return (\n    <Switch>\n      <Route path=\"/blank\" component={BlankPage}/>\n      <Route path=\"/map-debug\" component={MapDebug}/>\n      <Route path=\"/unstyled\" component={UnStyledMapPage}/>\n      <Route path=\"/\" component={HomePage}/>\n    </Switch>\n  );\n};\n\nexport default Routes;","import { createGlobalStyle } from \"styled-components\";\nimport { rgba } from 'polished';\nimport ThemePallete from \"../config/ThemePallete\";\n\nexport const AppStyle = createGlobalStyle`\n  body {\n    background-color:${rgba(ThemePallete.darkBlue,0.03)};\n  }\n`;","import React from 'react'\nimport Providers from '../Providers'\nimport Routes from '../Routes'\nimport { AppStyle } from './style'\n\n\nfunction App() {\n  return <Providers>\n    <Routes/>\n    <AppStyle/>\n  </Providers> \n}\n\n\nexport default App\n\n\n\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}