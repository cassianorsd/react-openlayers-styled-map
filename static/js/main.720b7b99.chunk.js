(this["webpackJsonpreact-openlayers-map-example"]=this["webpackJsonpreact-openlayers-map-example"]||[]).push([[0],{257:function(e,t,n){e.exports=n(404)},258:function(e,t,n){},404:function(e,t,n){"use strict";n.r(t);n(258);var a=n(1),o=n.n(a),r=n(59),c=n.n(r),l=n(57),i=n(32),s=n(103),u=n(177),d=n.n(u),m=n(418),f=n(236),p=n(415),b=(n(282),n(234)),v=n(7),g=n(58),y=n(90),h=n(132),w=n.n(h),E=n(219),O=n(149),C=n.n(O),j=n(235),x=n(151),k=n(184),L=n(417),M=n(220),S=n(69),A=n(43),z=n(73),N=n(102),K=n(75),T=n(54),D=n(63),I=n(81),P=n(85),R=n(39),G=n(109),B=n(108),V=n(3),F=n(231),_=n(215),H=n(216),Z=n(130),J=n(217),q=n(55),U=(n(291),n(185)),W=n(416),Y=n(233);function Q(){var e=Object(l.a)(['\n.ol-tooltip {\n  position: relative;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 4px;\n  color: white;\n  padding: 4px 8px;\n  opacity: 0.7;\n  white-space: nowrap;\n  font-size: 12px;\n}\n.ol-tooltip-measure {\n  opacity: 1;\n  font-weight: bold;\n}\n.ol-tooltip-static {\n  background-color: #ffcc33;\n  color: black;\n  border: 1px solid white;\n}\n.ol-tooltip-measure:before,\n.ol-tooltip-static:before {\n  border-top: 6px solid rgba(0, 0, 0, 0.5);\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  content: "";\n  position: absolute;\n  bottom: -6px;\n  margin-left: -7px;\n  left: 50%;\n}\n.ol-tooltip-static:before {\n  border-top-color: #ffcc33;\n}\n\n.ol-tooltip-static-measure-circle {\n  background-color: #ffcc33;\n  color: black;\n  border: 1px solid white;\n}\n\n.ol-tooltip-static-measure-circle:before {\n  border-top-color: #ffcc33;\n}\n\n']);return Q=function(){return e},e}function X(){var e=Object(l.a)(["\n  top: 50px;\n  right: 0px;\n  width: 15px;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding: 10px 0px;\n  background-color: ",";\n\n  border-top-left-radius: 10px;\n  border-top-right-radius: 0px;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 0px;\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return X=function(){return e},e}function $(){var e=Object(l.a)(["\n  width: ",";\n  height: ",";\n"]);return $=function(){return e},e}function ee(){var e=Object(l.a)(["\n  margin-top: auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n"]);return ee=function(){return e},e}function te(){var e=Object(l.a)(["\n  padding: 5px;\n"]);return te=function(){return e},e}function ne(){var e=Object(l.a)(["\n  text-align: center;\n  background-color: #ff073a;\n  color: #fff;\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: background-color 300ms ease;\n  margin-left: auto;\n  &:hover {\n    background-color: ",";\n  }\n"]);return ne=function(){return e},e}function ae(){var e=Object(l.a)(["\n  text-align: center;\n  flex-basis: 85%;\n"]);return ae=function(){return e},e}function oe(){var e=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n"]);return oe=function(){return e},e}function re(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n  min-height: 250px;\n  min-width: 250px;\n  max-width: 300px;\n"]);return re=function(){return e},e}function ce(){var e=Object(l.a)(["\n  &.active {\n    background-color: orange !important;\n  }\n"]);return ce=function(){return e},e}function le(){var e=Object(l.a)(["\n  width: 30px;\n  height: 30px;\n  border-radius: 15px;\n  position: relative;\n  left: -20px;\n  margin: 5px 0px 5px;\n  background-color: ",";\n  -webkit-transition: all 300ms ease;\n  -moz-transition: all 300ms ease;\n  -ms-transition: all 300ms ease;\n  -o-transition: all 300ms ease;\n  transition: all 300ms ease;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0px 5px 0px;\n  box-sizing: border-box;\n\n  .activeText {\n    font-size: 12px;\n    padding: 0px 5px 0px;\n    animation: "," 700ms;\n    line-height: 1em;\n  }\n\n  justify-content: ",";\n  width: ",";\n  left: ",";\n"]);return le=function(){return e},e}function ie(){var e=Object(l.a)(["\n  from {\n    opacity:0;\n  }\n  to{\n\n    opacity:1;\n  }\n"]);return ie=function(){return e},e}function se(){var e=Object(l.a)(["\n  right: 0.5em;\n"]);return se=function(){return e},e}var ue={map:new m.a({target:void 0,layers:[],view:new f.a({center:[0,0],zoom:2}),controls:[]}),activeMenuControl:void 0},de={initMap:function(e,t){var n=t.id,a=t.startZoom,o=t.startCoordinates,r=document.getElementById(n);r&&e.state.map.setTarget(r),e.state.map.getView().setZoom(a||10),e.state.map.getView().setCenter(Object(v.d)(o||[0,0]))},addLayer:function(e,t){var n=t.layerKey,a=t.layerObject;a.set("layerKey",n),e.actions.removeLayer({layerKey:n}),e.state.map.addLayer(a)},removeLayer:function(e,t){var n=t.layerKey,a=t.layerObject;a?e.state.map.removeLayer(a):n&&e.state.map.getLayers().getArray().filter((function(e){return e.get("layerKey")===n})).forEach((function(t){return e.state.map.removeLayer(t)}))},getLayer:function(e,t){return e.state.map.getLayers().getArray().find((function(e){return e.get("layerKey")===t}))||void 0},setActiveMenuControl:function(e,t){e.setState(Object(s.a)(Object(s.a)({},e.state),{},{activeMenuControl:t}))}},me=Object(b.a)(o.a,ue,de);function fe(){var e=me(),t=Object(i.a)(e,2),n=t[0],a=t[1];return{initMap:a.initMap,map:n.map,addLayer:a.addLayer,removeLayer:a.removeLayer,getLayer:a.getLayer,activeMenuControl:n.activeMenuControl,setActiveMenuControl:a.setActiveMenuControl}}var pe,be,ve,ge,ye,he,we,Ee,Oe,Ce,je=g.b.div(pe||(pe=se())),xe=Object(g.c)(be||(be=ie())),ke=g.b.div(ve||(ve=le()),(function(e){var t=e.active,n=e.color;return t?"orange":n||"grey"}),xe,(function(e){var t=e.active,n=e.hasActiveLabel;return t&&n?"space-between":"center"}),(function(e){var t=e.active,n=e.hasActiveLabel,a=e.widthOnActive;return t&&n?"".concat(a||130,"px"):"30px"}),(function(e){var t=e.active,n=e.hasActiveLabel,a=e.widthOnActive;return t&&n?"-".concat((a||130)-10,"px"):"-20px"})),Le=g.b.button(ge||(ge=ce())),Me=function(e){var t=e.styled,n=e.loading,r=e.activeLabel,c=e.icon,l=e.color,s=e.activeMenuControl,u=e.children,m=Object(a.useState)(!1),f=Object(i.a)(m,2),p=f[0],b=f[1],v=fe(),g=v.activeMenuControl,y=v.setActiveMenuControl,h=s.controlKey,w=s.enable,E=s.disable,O=Object(a.useCallback)((function(){y(p?void 0:h)}),[p,y,h]);return Object(a.useEffect)((function(){g!==h||p?g!==h&&p&&(b(!1),E()):(b(!0),w())}),[g,h,p,w,E]),o.a.createElement(je,{className:t?"":"ol-control",styled:!!t},t&&o.a.createElement(ke,{color:l||"teal",active:p,onClick:O,hasActiveLabel:!!r},r&&p&&o.a.createElement("span",{className:"activeText"},r),n&&o.a.createElement(d.a,{name:"circle",color:"#fff",fadeIn:"quarter"}),!n&&c&&c),!t&&o.a.createElement(Le,{className:p?"active":"",onClick:O},c),u)},Se=function(e){var t=Object(v.l)(e.coordinate),n="https://www.google.com/maps?layer=c&cbll=".concat(t[1],",").concat(t[0]);window.open(n,"_blank")},Ae=function(e){e.getViewport().style.cursor="crosshair",e.on("click",Se)},ze=function(e){e.getViewport().style.cursor="",e.un("click",Se)},Ne=function(e,t){e.once("rendercomplete",(function(){w()(e.getViewport()).then((function(e){e.toBlob((function(e){e&&(Object(E.saveAs)(e,"map.png"),t())}))}))})),e.renderSync()},Ke=g.b.div(ye||(ye=re())),Te=g.b.div(he||(he=oe())),De=g.b.h3(we||(we=ae())),Ie=g.b.button(Ee||(Ee=ne()),Object(j.a)(.1,"#ff073a")),Pe=g.b.form(Oe||(Oe=te())),Re=g.b.div(Ce||(Ce=ee())),Ge=function(e){var t=e.map,n=e.startCallback,a=e.endCallback,o=e.pageDimmentions,r=e.orientation,c=e.pageSize;n&&n(),t.once("rendercomplete",(function(){w()(t.getViewport()).then((function(e){var n=new M.a(r,void 0,c),l=o,i=t.getSize(),s=Math.max(i[1]/(("landscape"===r?l[1]:l[0])-20),i[0]/(("landscape"===r?l[0]:l[1])-20)),u=[i[0]/s,i[1]/s],d=[Math.abs((("landscape"===r?l[0]:l[1])-u[0])/2),Math.abs((("landscape"===r?l[1]:l[0])-u[1])/2)],m=d[0],f=d[1];n.addImage(e.toDataURL("image/jpeg"),"JPEG",m,f,u[0],u[1]),n.save("map.pdf"),a&&a()}))})),t.renderSync()},Be={content:{padding:"5px",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",borderRadius:"10px"}};C.a.setAppElement("#root");var Ve,Fe,_e,He,Ze,Je,qe,Ue,We,Ye,Qe,Xe,$e,et,tt,nt,at,ot,rt,ct=[{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"}],lt={A0:[1189,841],A1:[841,594],A2:[594,420],A3:[420,297],A4:[297,210],A5:[210,148]},it=[{value:"landscape",label:"Paisagem"},{value:"portrait",label:"Retrato"}],st=function(e){var t=e.isOpen,n=e.onClose,r=e.options,c=fe(),l=c.map,s=c.setActiveMenuControl,u=Object(x.b)(),m=u.control,f=u.handleSubmit,p=Object(a.useState)(!1),b=Object(i.a)(p,2),v=b[0],g=b[1],h=f((function(e){var t=e.orientation,a=e.pageSize;t&&a&&Ge({map:l,orientation:t.value,pageSize:a.value,pageDimmentions:(null===r||void 0===r?void 0:r.pageSizesDimmentions)?r.pageSizesDimmentions[a.value]:lt[a.value],startCallback:function(){g(!0)},endCallback:function(){s(void 0),g(!1),n()}})}));return o.a.createElement("div",null,o.a.createElement(C.a,{isOpen:t,onRequestClose:n,contentLabel:"Example Modal",style:Be},o.a.createElement(Ke,null,o.a.createElement(Te,null,o.a.createElement(De,null,"Export PDF"),o.a.createElement(Ie,{onClick:n},o.a.createElement(y.f,{size:20}))),o.a.createElement(Pe,{onSubmit:h},o.a.createElement("span",null,"P\xe1gina:"),o.a.createElement(x.a,{name:"pageSize",as:o.a.createElement(k.a,null),options:(null===r||void 0===r?void 0:r.pageSizes)||ct,control:m,defaultValue:{value:"A4",label:"A4"}}),o.a.createElement("span",null,"Orienta\xe7\xe3o:"),o.a.createElement(x.a,{name:"orientation",as:o.a.createElement(k.a,null),options:(null===r||void 0===r?void 0:r.pageOrientations)||it,control:m,defaultValue:{value:"landscape",label:"Paisagem"}})),o.a.createElement(Re,null,o.a.createElement(L.a,{color:"green",onClick:h},"Gerar"),o.a.createElement(L.a,{color:"red",onClick:n},"Cancelar")))),o.a.createElement(C.a,{isOpen:v,style:Be},o.a.createElement("div",{style:{width:"200px",height:"120px",borderRadius:"5px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}},o.a.createElement(d.a,{name:"line-scale-pulse-out-rapid",color:"green",fadeIn:"none",style:{transform:"scale(1.5)"}}),o.a.createElement("span",null,"Gerando PDF..."))))},ut=[],dt=function(e){if(!e.dragging){var t="Click to start drawing";if(Ve){var n=Ve.getGeometry();n instanceof A.a?t="Click to continue drawing the polygon":n instanceof S.a&&(t="Click to continue drawing the line")}Fe.innerHTML=t,_e.setPosition(e.coordinate),Fe.classList.remove("hidden")}},mt=function(e){var t=e.map,n=e.source,a=e.type;function o(){He&&He.parentNode&&He.parentNode.removeChild(He),(He=document.createElement("div")).className="ol-tooltip ol-tooltip-measure",Ze=new p.a({element:He,offset:[0,-15],positioning:R.a.BOTTOM_CENTER}),ut.push(Ze),t.addOverlay(Ze)}t.on("pointermove",dt),t.getViewport().addEventListener("mouseout",(function(){Fe.classList.add("hidden")})),function(){var e;Je=new N.a({source:n,type:a,style:new K.c({fill:new T.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new D.a({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new I.a({radius:5,stroke:new D.a({color:"rgba(0, 0, 0, 0.7)"}),fill:new T.a({color:"rgba(255, 255, 255, 0.2)"})})})}),t.addInteraction(Je),o(),Fe&&Fe.parentNode&&Fe.parentNode.removeChild(Fe),(Fe=document.createElement("div")).className="ol-tooltip hidden",_e=new p.a({element:Fe,offset:[15,0],positioning:R.a.CENTER_LEFT}),t.addOverlay(_e),Je.on("drawstart",(function(t){Ve=t.feature;var n=t.coordinate;e=Ve.getGeometry().on("change",(function(e){var t,a=e.target;a instanceof A.a?(t=function(e){var t=Object(z.a)(e);return t>1e4?Math.round(t/1e6*100)/100+" km<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"}(a),n=a.getInteriorPoint().getCoordinates()):a instanceof S.a&&(t=function(e){var t=Object(z.c)(e);return t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"}(a),n=a.getLastCoordinate()),He&&(He.innerHTML=t||"",Ze.setPosition(n))}))})),Je.on("drawend",(function(){He&&(He.className="ol-tooltip ol-tooltip-static",Ze.setOffset([0,-7])),Ve=null,He=null,o(),Object(P.b)(e)}))}()},ft=function(e){var t=e.map;t.removeInteraction(Je),t.removeOverlay(_e)},pt=function(e){var t=e.map;ut.forEach((function(e){t.removeOverlay(e)}))},bt=[],vt=function(e){if(!e.dragging){var t="Click to start drawing";if(qe){var n=qe.getGeometry();n instanceof A.a?t="Click to continue drawing the polygon":n instanceof S.a&&(t="Click to continue drawing the line")}Ue.innerHTML=t,We.setPosition(e.coordinate),Ue.classList.remove("hidden")}},gt=function(e){var t=e.map,n=e.source,a=e.type;function o(){Ye&&Ye.parentNode&&Ye.parentNode.removeChild(Ye),(Ye=document.createElement("div")).className="ol-tooltip ol-tooltip-measure",Qe=new p.a({element:Ye,offset:[0,-15],positioning:R.a.BOTTOM_CENTER}),bt.push(Qe),t.addOverlay(Qe)}t.on("pointermove",vt),t.getViewport().addEventListener("mouseout",(function(){Ue.classList.add("hidden")})),function(){var e;Xe=new N.a({source:n,type:a,style:new K.c({fill:new T.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new D.a({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new I.a({radius:5,stroke:new D.a({color:"rgba(0, 0, 0, 0.7)"}),fill:new T.a({color:"rgba(255, 255, 255, 0.2)"})})})}),t.addInteraction(Xe),o(),Ue&&Ue.parentNode&&Ue.parentNode.removeChild(Ue),(Ue=document.createElement("div")).className="ol-tooltip hidden",We=new p.a({element:Ue,offset:[15,0],positioning:R.a.CENTER_LEFT}),t.addOverlay(We),Xe.on("drawstart",(function(t){qe=t.feature;var n=t.coordinate;e=qe.getGeometry().on("change",(function(e){var t,a=e.target;a instanceof A.a?(t=function(e){var t=Object(z.a)(e);return t>1e4?Math.round(t/1e6*100)/100+" km<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"}(a),n=a.getInteriorPoint().getCoordinates()):a instanceof S.a&&(t=function(e){var t=Object(z.c)(e);return t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"}(a),n=a.getLastCoordinate()),Ye&&(Ye.innerHTML=t||"",Qe.setPosition(n))}))})),Xe.on("drawend",(function(){Ye&&(Ye.className="ol-tooltip ol-tooltip-static",Qe.setOffset([0,-7])),qe=null,Ye=null,o(),Object(P.b)(e)}))}()},yt=function(e){var t=e.map;t.removeInteraction(Xe),t.removeOverlay(We)},ht=function(e){var t=e.map;bt.forEach((function(e){t.removeOverlay(e)}))},wt=[],Et=function(e){var t=e.map,n=e.source;$e=new N.a({source:n,type:V.a.CIRCLE});t.addInteraction($e),$e.on("drawstart",(function(e){var n=e.feature.getGeometry();(et=document.createElement("div")).className="ol-tooltip",tt=new p.a({element:et,offset:[15,0],positioning:R.a.CENTER_LEFT}),wt.push(tt),t.addOverlay(tt),nt=t.on("pointermove",(function(e){var t=n.getCenter(),a=n.getRadius(),o=[t[0]+a,t[1]],r=Object(z.b)(Object(v.o)(t,"EPSG:3857","EPSG:4326"),Object(v.o)(o,"EPSG:3857","EPSG:4326"));et&&(et.innerHTML="".concat(r.toFixed(2),"m")),tt.setPosition(e.coordinate)}))})),$e.on("drawend",(function(){et&&(et.className="ol-tooltip ol-tooltip-static-measure-circle"),et=null,nt&&Object(P.b)(nt)}))},Ot=function(e){e.map.removeInteraction($e)},Ct=function(e){var t=e.map;wt.forEach((function(e){t.removeOverlay(e)}))},jt=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,c=e.color,l=e.controlKey,i=fe().map,s=Object(a.useCallback)((function(){i&&Ae(i)}),[i]),u=Object(a.useCallback)((function(){i&&ze(i)}),[i]);return o.a.createElement(Me,{styled:t,icon:r||o.a.createElement(y.e,{size:20,color:"#fff"}),activeLabel:n||"Google Street View",color:c||"#FE2C54",activeMenuControl:{controlKey:l||"GoogleStreetView",disable:u,enable:s}})},xt=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,c=e.color,l=e.controlKey,s=Object(a.useState)(!1),u=Object(i.a)(s,2),d=u[0],m=u[1],f=fe(),p=f.map,b=f.setActiveMenuControl,v=Object(a.useCallback)((function(){p&&(m(!0),Ne(p,(function(){b(void 0),m(!1)})))}),[p,b]),g=Object(a.useCallback)((function(){b(void 0),m(!1)}),[b]);return o.a.createElement(Me,{styled:t,icon:r||o.a.createElement(y.c,{size:20,color:"#fff"}),activeLabel:n||"",color:c||"#9ACD32",activeMenuControl:{controlKey:l||"ExportMapImage",disable:g,enable:v},loading:d})},kt=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,c=e.color,l=e.controlKey,s=e.options,u=Object(a.useState)(!1),d=Object(i.a)(u,2),m=d[0],f=d[1],p=fe().setActiveMenuControl,b=Object(a.useCallback)((function(){f(!0)}),[]),v=Object(a.useCallback)((function(){}),[]),g=Object(a.useCallback)((function(){f(!1),p(void 0)}),[p]);return o.a.createElement(Me,{styled:t,icon:r||o.a.createElement(y.b,{size:20,color:"#fff"}),activeLabel:n||"",color:c||"#9ACD32",activeMenuControl:{controlKey:l||"ExportMapPDF",disable:v,enable:b},loading:m},o.a.createElement(st,{isOpen:m,onClose:g,options:s}))},Lt=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,c=e.color,l=e.controlKey,s=Object(a.useState)(new G.a),u=Object(i.a)(s,1)[0],d=Object(a.useState)(new B.a({zIndex:1e3,source:u,style:new K.c({fill:new T.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new D.a({color:"#ffcc33",width:2}),image:new I.a({radius:7,fill:new T.a({color:"#ffcc33"})})})})),m=Object(i.a)(d,1)[0],f=fe(),p=f.map,b=f.addLayer;Object(a.useEffect)((function(){p&&b({layerKey:"measureDistance",layerObject:m})}),[p,b,m]);var v=Object(a.useCallback)((function(){p&&u&&mt({map:p,source:u,type:V.a.LINE_STRING})}),[p,u]),g=Object(a.useCallback)((function(){p&&ft({map:p})}),[p]);return o.a.createElement(Me,{styled:t,icon:r||o.a.createElement(y.d,{size:20,color:"#fff"}),activeLabel:n||"Measure Distance",color:c||"#446CD5",activeMenuControl:{controlKey:l||"MeasureDistance",disable:g,enable:v}})},Mt=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,c=e.color,l=e.controlKey,s=Object(a.useState)(new G.a),u=Object(i.a)(s,1)[0],d=Object(a.useState)(new B.a({zIndex:1e3,source:u,style:new K.c({fill:new T.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new D.a({color:"#ffcc33",width:2}),image:new I.a({radius:7,fill:new T.a({color:"#ffcc33"})})})})),m=Object(i.a)(d,1)[0],f=fe(),p=f.map,b=f.addLayer;Object(a.useEffect)((function(){p&&b({layerKey:"measureArea",layerObject:m})}),[p,b,m]);var v=Object(a.useCallback)((function(){p&&u&&gt({map:p,source:u,type:V.a.POLYGON})}),[p,u]),g=Object(a.useCallback)((function(){p&&yt({map:p})}),[p]);return o.a.createElement(Me,{styled:t,icon:r||o.a.createElement(y.a,{size:20,color:"#fff"}),activeLabel:n||"Measure Area",color:c||"#446CD5",activeMenuControl:{controlKey:l||"MeasureArea",disable:g,enable:v}})},St=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,c=e.color,l=e.controlKey,s=Object(a.useState)(!1),u=Object(i.a)(s,2),d=u[0],m=u[1],f=fe(),p=f.setActiveMenuControl,b=f.map,v=f.getLayer,g=Object(a.useCallback)((function(){b&&(m(!0),setTimeout((function(){var e=function(e){var t=v(e);t&&t.getSource().clear()};e("measureDistance"),e("measureArea"),e("measureRadius"),ht({map:b}),pt({map:b}),Ct({map:b}),p(void 0)}),750))}),[p,v,b]),h=Object(a.useCallback)((function(){m(!1)}),[]);return o.a.createElement(Me,{styled:t,icon:r||o.a.createElement(y.g,{size:20,color:"#fff"}),activeLabel:n||"Limpando Medidas",color:c||"#446CD5",activeMenuControl:{controlKey:l||"ClearMeasures",disable:h,enable:g},loading:d})},At=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,c=e.color,l=e.controlKey,s=Object(a.useState)(new G.a),u=Object(i.a)(s,1)[0],d=Object(a.useState)(new B.a({zIndex:1e3,source:u,style:new K.c({fill:new T.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new D.a({color:"#ffcc33",width:2}),image:new I.a({radius:7,fill:new T.a({color:"#ffcc33"})})})})),m=Object(i.a)(d,1)[0],f=fe(),p=f.map,b=f.addLayer;Object(a.useEffect)((function(){p&&b({layerKey:"measureRadius",layerObject:m})}),[p,b,m]);var v=Object(a.useCallback)((function(){p&&u&&Et({map:p,source:u})}),[p,u]),g=Object(a.useCallback)((function(){p&&Ot({map:p})}),[p]);return o.a.createElement(Me,{styled:t,icon:r||o.a.createElement(F.a,{size:20,color:"#fff"}),activeLabel:n||"Measure Radius",color:c||"#446CD5",activeMenuControl:{controlKey:l||"measureRadius",disable:g,enable:v}})},zt=g.b.div(at||(at=$()),(function(e){return e.width}),(function(e){return e.height})),Nt=g.b.div(ot||(ot=X()),(function(e){return e.styled?"rgba(255, 255, 255, 0.8)":"rgba(0,0,0,0)"}),(function(e){return e.styled?"rgba(255, 255, 255, 0.8)":"rgba(0,0,0,0)"})),Kt=function(e){var t=e.styled,n=e.children,r=fe().map;return Object(a.useEffect)((function(){var e=document.getElementById("styledmenu");if(e){var t=new q.a({element:e});r.addControl(t)}}),[r]),n?o.a.createElement(Nt,{id:"styledmenu",className:"ol-control",styled:!!t},n):o.a.createElement("span",null)},Tt=Object(g.a)(rt||(rt=Q())),Dt=function(e){var t=e.height,n=e.width,r=e.id,c=e.osmBasemap,l=e.defaultControls,i=e.controlsMenu,s=e.startZoom,u=e.startCoordinates,d=fe(),m=d.map,f=d.initMap;return Object(a.useEffect)((function(){f({id:r||"map",startCoordinates:u,startZoom:s}),c&&(m.addLayer(new U.a({source:new W.a})),m.addLayer(new U.a({source:new Y.a({url:"https://geo.jaraguadosul.sc.gov.br/ortomosaico2020/{z}/{x}/{y}.png"})}))),l&&function(e){var t=e.map,n=e.defaultControls;if(null===n||void 0===n?void 0:n.zoomSlider){var a={};"boolean"!==typeof n.zoomSlider&&(a=n.zoomSlider),t.addControl(new _.a(a))}if(null===n||void 0===n?void 0:n.scale){var o={bar:!0,units:"metric",steps:4};"boolean"!==typeof n.scale&&(o=n.scale);var r=new H.a(o);t.addControl(r)}if(null===n||void 0===n?void 0:n.zoomButtons){var c={};"boolean"!==typeof n.zoomButtons&&(c=n.zoomButtons),t.addControl(new Z.a(c))}if(null===n||void 0===n?void 0:n.fullScreenMode){var l={tipLabel:"Click to enter/exit fullscreen mode."};"boolean"!==typeof n.fullScreenMode&&(l=n.fullScreenMode),t.addControl(new J.a(l))}}({map:m,defaultControls:l})}),[r,c,l,m,f,u,s]),o.a.createElement(zt,{height:t||"100%",width:n||"100%"},o.a.createElement("div",{id:r||"map",style:{width:"100%",height:"100%"}}),i&&o.a.createElement(Kt,Object.assign({},i)),o.a.createElement(Tt,null))},It=n(150),Pt=n(33),Rt=function(){return o.a.createElement(It.a,null,o.a.createElement("nav",null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(It.b,{to:"/"},"Home")),o.a.createElement("li",null,o.a.createElement(It.b,{to:"/blank"},"Blank")))),o.a.createElement(Pt.c,null,o.a.createElement(Pt.a,{path:"/blank"},"This is a blank page to test remount of map component"),o.a.createElement(Pt.a,{path:"/"},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(Dt,{id:"map1",height:"800px",width:"800px",osmBasemap:!0,startCoordinates:[-49.2,-26.5],startZoom:11,defaultControls:{fullScreenMode:{tipLabel:"Click to toggle"},zoomButtons:!0,zoomSlider:{},scale:{bar:!0,minWidth:130,steps:4}},controlsMenu:{styled:!0,children:o.a.createElement(o.a.Fragment,null,o.a.createElement(jt,{styled:!0,activeLabel:"Street View"}),o.a.createElement(xt,{styled:!0}),o.a.createElement(kt,{styled:!0}),o.a.createElement(Lt,{styled:!0,activeLabel:"Medir Dist\xe2ncia"}),o.a.createElement(Mt,{styled:!0,activeLabel:"Medir \xc1rea"}),o.a.createElement(At,{styled:!0}),o.a.createElement(St,{styled:!0}))}})))))};c.a.render(o.a.createElement(Rt,null),document.getElementById("root"))}},[[257,1,2]]]);
//# sourceMappingURL=main.720b7b99.chunk.js.map