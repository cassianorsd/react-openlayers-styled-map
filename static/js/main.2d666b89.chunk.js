(this["webpackJsonpreact-openlayers-map-example"]=this["webpackJsonpreact-openlayers-map-example"]||[]).push([[0],{201:function(e,t,n){e.exports=n(247)},202:function(e,t,n){},245:function(e,t,n){},247:function(e,t,n){"use strict";n.r(t);n(202);var a=n(1),o=n.n(a),r=n(47),l=n.n(r),c=n(110),i=function(e){var t=e.children;return o.a.createElement(c.a,{basename:"/react-openlayers-styled-map"},t)},s=n(38),u=n(27),d=n(28),m=n(120),p={darkBlue:"#1F3B4D"};function f(){var e=Object(u.a)(["\n  user-select:none;\n  text-decoration:none;\n  color:#000;\n  background-color: ",";\n  border-radius:5px;\n  padding: 3px 10px 3px;\n  display:flex;\n  flex-wrap:wrap;\n  justify-content:center;\n  align-items:center;\n  & + a {\n    margin-left:10px;\n  }\n  transition: background-color 300ms ease;\n  &:hover {\n    cursor:pointer;\n    background-color: ","\n  }\n\n"]);return f=function(){return e},e}function b(){var e=Object(u.a)(["\n  background-color:",";\n  height: 35px;\n  display:flex;\n  flex-wrap:wrap;\n  justify-content:flex-start;\n  align-items:center;\n  padding: 0px 10px 0px;\n"]);return b=function(){return e},e}function y(){var e=Object(u.a)(["\n  height:100vh;\n  display:flex;\n  flex-direction:column;\n  justify-content:stretch;\n  align-items:stretch;\n"]);return y=function(){return e},e}var v=d.b.div(y()),g=d.b.div(b(),p.darkBlue),h=Object(d.b)(c.b)(f(),Object(m.a)(.3,p.darkBlue),Object(m.a)(.5,p.darkBlue)),E=function(e){var t=e.children;return o.a.createElement(v,null,o.a.createElement(g,null,o.a.createElement(h,{to:"/"},"Map"),o.a.createElement(h,{to:"/blank"},"Blank Page"),o.a.createElement(h,{to:"/map-debug"},"Map Debug")),t)},O=function(){return o.a.createElement(E,null,"This is a blank page to test remount of map component")},x=n(23),w=n(66),j=n(80),C=n(267),k=n(178),L=n(265),S=(n(211),n(177)),M=n(169),z=n(170),_=n(91),N=n(5),A=n(61),D=n(124),K=n(122),I=n(97),T=n(123),B=n(152),P=n.n(B),R=n(126),F=n.n(R),V=n(165),G=n(141),Z=n.n(G),Y=n(143),J=n(142),X=n(155),W=n(266),H=n(166),q=n(73),Q=n(50),U=n(77),$=n(103),ee=n(79),te=n(60),ne=n(67),ae=n(84),oe=n(82),re=n(45),le=n(108),ce=n(107),ie=n(3),se=n(174),ue=n(167),de=n.n(ue),me=n(168);n(242);function pe(){var e=Object(u.a)(["\n  top: 50px;\n  right: 0px;\n  width: 15px;\n  height: auto;\n  max-height: 80%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding: 10px 0px;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 0px;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 0px;\n\n  background-color: rgba(0, 0, 0, 0);\n\n  &.ribbon {\n    background-color: rgba(255, 255, 255, 0.8);\n  }\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0);\n  }\n  &.ribbon:hover {\n    background-color: rgba(255, 255, 255, 0.8);\n  }\n"]);return pe=function(){return e},e}function fe(){var e=Object(u.a)(["\n  top: 50px;\n  right: 0px;\n  width: 15px;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding: 10px 0px;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 0px;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 0px;\n\n  background-color: rgba(0, 0, 0, 0);\n\n  &.ribbon {\n    background-color: rgba(255, 255, 255, 0.8);\n  }\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0);\n  }\n  &.ribbon:hover {\n    background-color: rgba(255, 255, 255, 0.8);\n  }\n"]);return fe=function(){return e},e}function be(){var e=Object(u.a)(['\n.ol-tooltip {\n  position: relative;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 4px;\n  color: white;\n  padding: 4px 8px;\n  opacity: 0.7;\n  white-space: nowrap;\n  font-size: 12px;\n}\n.ol-tooltip-measure {\n  opacity: 1;\n  font-weight: bold;\n}\n.ol-tooltip-static {\n  background-color: #ffcc33;\n  color: black;\n  border: 1px solid white;\n}\n.ol-tooltip-measure:before,\n.ol-tooltip-static:before {\n  border-top: 6px solid rgba(0, 0, 0, 0.5);\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  content: "";\n  position: absolute;\n  bottom: -6px;\n  margin-left: -7px;\n  left: 50%;\n}\n.ol-tooltip-static:before {\n  border-top-color: #ffcc33;\n}\n\n.ol-tooltip-static-measure-circle {\n  background-color: #ffcc33;\n  color: black;\n  border: 1px solid white;\n}\n\n.ol-tooltip-static-measure-circle:before {\n  border-top-color: #ffcc33;\n}\n\n']);return be=function(){return e},e}function ye(){var e=Object(u.a)(["\n  width: ",";\n  height: ",";\n"]);return ye=function(){return e},e}function ve(){var e=Object(u.a)(["\n  min-width: 30px;\n  height: 40px;\n  font-size: 12px;\n  border-radius: 5px;\n  border: none;\n  padding: 5px;\n  background-color: #9acd32;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  transition: background-color 300ms ease;\n  &:hover {\n    background-color: ",";\n  }\n"]);return ve=function(){return e},e}function ge(){var e=Object(u.a)(["\n  position: absolute;\n  background-color: white;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);\n  padding: 15px;\n  border-radius: 10px;\n  border: 1px solid #cccccc;\n  bottom: 12px;\n  left: -50px;\n  min-width: 180px;\n  animation: "," 300ms;\n\n  &:after,\n  &:before {\n    top: 100%;\n    border: solid transparent;\n    content: ' ';\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n  }\n\n  &:after {\n    border-top-color: white;\n    border-width: 10px;\n    left: 48px;\n    margin-left: -10px;\n  }\n\n  &:before {\n    border-top-color: #cccccc;\n    border-width: 11px;\n    left: 48px;\n    margin-left: -11px;\n  }\n"]);return ge=function(){return e},e}function he(){var e=Object(u.a)(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  width: 20px;\n  height: 20px;\n  background-color: #ee3e3e;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  padding: 0px;\n  margin: 0px;\n  transition: all 300ms ease;\n  &:hover {\n    cursor: pointer;\n    background-color: ",";\n  }\n  .svg {\n    display: block;\n    margin: auto;\n  }\n"]);return he=function(){return e},e}function Ee(){var e=Object(u.a)([""]);return Ee=function(){return e},e}function Oe(){var e=Object(u.a)(["\nfrom {\n  opacity:0;\n  transform: translateY(50px);\n}\nto {\n  opacity:1;\n  transform: translateY(0px);\n}\n"]);return Oe=function(){return e},e}function xe(){var e=Object(u.a)(["\n  margin-top: auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n"]);return xe=function(){return e},e}function we(){var e=Object(u.a)(["\n  padding: 5px;\n"]);return we=function(){return e},e}function je(){var e=Object(u.a)(["\n  text-align: center;\n  background-color: #ff073a;\n  color: #fff;\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: background-color 300ms ease;\n  margin-left: auto;\n  &:hover {\n    background-color: ",";\n  }\n"]);return je=function(){return e},e}function Ce(){var e=Object(u.a)(["\n  text-align: center;\n  flex-basis: 85%;\n"]);return Ce=function(){return e},e}function ke(){var e=Object(u.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n"]);return ke=function(){return e},e}function Le(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n  min-height: 250px;\n  min-width: 250px;\n  max-width: 300px;\n"]);return Le=function(){return e},e}var Se={map:void 0,activeMenuControl:void 0},Me={initMap:function(e,t){var n=t.id,a=t.startCoordinates,o=t.startZoom,r=t.defaultControls,l=t.defaultOSMBasemap,c=t.tileDebug;e.state.map&&e.state.map.setTarget(void 0);var i=document.getElementById(n);if(i){var s=[];(null===r||void 0===r?void 0:r.zoomButtons)&&s.push(new I.a(r.zoomButtons)),(null===r||void 0===r?void 0:r.scale)&&s.push(new K.a(r.scale)),(null===r||void 0===r?void 0:r.fullScreenMode)&&s.push(new T.a(r.fullScreenMode)),(null===r||void 0===r?void 0:r.zoomSlider)&&s.push(new D.a(r.zoomSlider));var u=document.getElementById("StyledMenu");if(u){u.id="styledMenuContainer";var d=new A.a({element:u});s.push(d)}var m=[];l&&m.push(new _.a({zIndex:1,source:new M.a})),c&&m.push(new _.a({zIndex:1e3,source:new z.a(c)}));var p=new C.a({target:i,layers:m,view:new k.a({center:Object(N.d)(a),zoom:o||10}),controls:s});e.actions.setActiveMenuControl(void 0),console.log("[MAP ENGINE] Started."),e.setState(Object(w.a)(Object(w.a)({},e.state),{},{map:p}))}},addLayer:function(e,t){var n=t.layerKey,a=t.layerObject;e.state.map&&(a.set("layerKey",n),e.actions.removeLayer({layerKey:n}),e.state.map.addLayer(a))},removeLayer:function(e,t){var n=t.layerKey,a=t.layerObject;e.state.map&&(a?e.state.map.removeLayer(a):n&&e.state.map.getLayers().getArray().filter((function(e){return e.get("layerKey")===n})).forEach((function(t){e.state.map&&e.state.map.removeLayer(t)})))},getLayer:function(e,t){if(e.state.map)return e.state.map.getLayers().getArray().find((function(e){return e.get("layerKey")===t}))||void 0},setActiveMenuControl:function(e,t){e.setState(Object(w.a)(Object(w.a)({},e.state),{},{activeMenuControl:t}))}},ze=Object(S.a)(o.a,Se,Me);function _e(){var e=ze(),t=Object(x.a)(e,2),n=t[0],a=t[1];return{initMap:a.initMap,map:n.map,addLayer:a.addLayer,removeLayer:a.removeLayer,getLayer:a.getLayer,activeMenuControl:n.activeMenuControl,setActiveMenuControl:a.setActiveMenuControl}}var Ne,Ae,De,Ke,Ie,Te,Be=function(e){var t=Object(N.l)(e.coordinate),n="https://www.google.com/maps?layer=c&cbll=".concat(t[1],",").concat(t[0]);window.open(n,"_blank")},Pe=function(e){e.getViewport().style.cursor="crosshair",e.on("click",Be)},Re=function(e){e.getViewport().style.cursor="",e.un("click",Be)},Fe="_styles__controlButton__2gXdb",Ve="_styles__styled__1o1-i",Ge="_styles__active__2pQZ8",Ze="_styles__content__2rr6g",Ye="_styles__activeLabel__uZ6st",Je="_styles__IconDiv__34hmP",Xe=function(e){var t=e.children,n=e.styled,r=e.icon,l=e.color,c=e.controlKey,i=e.disable,s=e.enable,u=e.activeLabel,d=e.loading,m=Object(a.useState)(!1),p=Object(x.a)(m,2),f=p[0],b=p[1],y=_e(),v=y.setActiveMenuControl,g=y.activeMenuControl,h=Object(a.useCallback)((function(){v(f?void 0:c)}),[f,v,c]);return Object(a.useEffect)((function(){g!==c||f?g!==c&&f&&(b(!1),i&&i()):(b(!0),s&&s())}),[g,c,f,s,i]),o.a.createElement("button",{onClick:h,className:Fe+" "+(f?Ge:"")+" "+(n?Ve:""),id:"".concat(c,"-button")},o.a.createElement("div",{className:Ze,style:{backgroundColor:n?l||"#fff":"inherit"}},n&&u&&o.a.createElement("span",{className:Ye},u),d&&o.a.createElement("div",{className:Je},o.a.createElement(P.a,{name:"circle",color:"#fff",fadeIn:"quarter"})),!d&&r&&o.a.createElement("div",{className:Je},r),t))},We=function(e,t){e.once("rendercomplete",(function(){F()(e.getViewport()).then((function(e){e.toBlob((function(e){e&&(Object(V.saveAs)(e,"map.png"),t())}))}))})),e.renderSync()},He=d.b.div(Ne||(Ne=Le())),qe=d.b.div(Ae||(Ae=ke())),Qe=d.b.h3(De||(De=Ce())),Ue=d.b.button(Ke||(Ke=je()),Object(Y.a)(.1,"#ff073a")),$e=d.b.form(Ie||(Ie=we())),et=d.b.div(Te||(Te=xe())),tt=function(e){var t=e.map,n=e.startCallback,a=e.endCallback,o=e.pageDimmentions,r=e.orientation,l=e.pageSize;n&&n(),t.once("rendercomplete",(function(){F()(t.getViewport()).then((function(e){var n=new H.a(r,void 0,l),c=o,i=t.getSize(),s=Math.max(i[1]/(("landscape"===r?c[1]:c[0])-20),i[0]/(("landscape"===r?c[0]:c[1])-20)),u=[i[0]/s,i[1]/s],d=[Math.abs((("landscape"===r?c[0]:c[1])-u[0])/2),Math.abs((("landscape"===r?c[1]:c[0])-u[1])/2)],m=d[0],p=d[1];n.addImage(e.toDataURL("image/jpeg"),"JPEG",m,p,u[0],u[1]),n.save("map.pdf"),a&&a()}))})),t.renderSync()},nt={content:{padding:"5px",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",borderRadius:"10px"}};Z.a.setAppElement("#root");var at,ot,rt,lt,ct,it,st,ut,dt,mt,pt,ft,bt,yt,vt,gt,ht,Et,Ot,xt,wt,jt=[{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"}],Ct={A0:[1189,841],A1:[841,594],A2:[594,420],A3:[420,297],A4:[297,210],A5:[210,148]},kt=[{value:"landscape",label:"Paisagem"},{value:"portrait",label:"Retrato"}],Lt=function(e){var t=e.isOpen,n=e.onClose,r=e.options,l=_e(),c=l.map,i=l.setActiveMenuControl,s=Object(J.b)(),u=s.control,d=s.handleSubmit,m=Object(a.useState)(!1),p=Object(x.a)(m,2),f=p[0],b=p[1],y=d((function(e){var t=e.orientation,a=e.pageSize;t&&a&&c&&tt({map:c,orientation:t.value,pageSize:a.value,pageDimmentions:(null===r||void 0===r?void 0:r.pageSizesDimmentions)?r.pageSizesDimmentions[a.value]:Ct[a.value],startCallback:function(){b(!0)},endCallback:function(){i(void 0),b(!1),n()}})}));return o.a.createElement("div",null,o.a.createElement(Z.a,{isOpen:t,onRequestClose:n,contentLabel:"Example Modal",style:nt},o.a.createElement(He,null,o.a.createElement(qe,null,o.a.createElement(Qe,null,"Export PDF"),o.a.createElement(Ue,{onClick:n},o.a.createElement(j.h,{size:20}))),o.a.createElement($e,{onSubmit:y},o.a.createElement("span",null,"P\xe1gina:"),o.a.createElement(J.a,{name:"pageSize",as:o.a.createElement(X.a,null),options:(null===r||void 0===r?void 0:r.pageSizes)||jt,control:u,defaultValue:{value:"A4",label:"A4"}}),o.a.createElement("span",null,"Orienta\xe7\xe3o:"),o.a.createElement(J.a,{name:"orientation",as:o.a.createElement(X.a,null),options:(null===r||void 0===r?void 0:r.pageOrientations)||kt,control:u,defaultValue:{value:"landscape",label:"Paisagem"}})),o.a.createElement(et,null,o.a.createElement(W.a,{color:"green",onClick:y},"Gerar"),o.a.createElement(W.a,{color:"red",onClick:n},"Cancelar")))),o.a.createElement(Z.a,{isOpen:f,style:nt},o.a.createElement("div",{style:{width:"200px",height:"120px",borderRadius:"5px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}},o.a.createElement(P.a,{name:"line-scale-pulse-out-rapid",color:"green",fadeIn:"none",style:{transform:"scale(1.5)"}}),o.a.createElement("span",null,"Gerando PDF..."))))},St=[],Mt=function(e){if(!e.dragging){var t="Click to start drawing";if(at){var n=at.getGeometry();n instanceof Q.a?t="Click to continue drawing the polygon":n instanceof q.a&&(t="Click to continue drawing the line")}ot.innerHTML=t,rt.setPosition(e.coordinate),ot.classList.remove("hidden")}},zt=function(e){var t=e.map,n=e.source,a=e.type;function o(){lt&&lt.parentNode&&lt.parentNode.removeChild(lt),(lt=document.createElement("div")).className="ol-tooltip ol-tooltip-measure",ct=new L.a({element:lt,offset:[0,-15],positioning:re.a.BOTTOM_CENTER}),St.push(ct),t.addOverlay(ct)}t.on("pointermove",Mt),t.getViewport().addEventListener("mouseout",(function(){ot.classList.add("hidden")})),function(){var e;it=new $.a({source:n,type:a,style:new ee.c({fill:new te.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ne.a({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new ae.a({radius:5,stroke:new ne.a({color:"rgba(0, 0, 0, 0.7)"}),fill:new te.a({color:"rgba(255, 255, 255, 0.2)"})})})}),t.addInteraction(it),o(),ot&&ot.parentNode&&ot.parentNode.removeChild(ot),(ot=document.createElement("div")).className="ol-tooltip hidden",rt=new L.a({element:ot,offset:[15,0],positioning:re.a.CENTER_LEFT}),t.addOverlay(rt),it.on("drawstart",(function(t){at=t.feature;var n=t.coordinate;e=at.getGeometry().on("change",(function(e){var t,a=e.target;a instanceof Q.a?(t=function(e){var t=Object(U.a)(e);return t>1e4?Math.round(t/1e6*100)/100+" km<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"}(a),n=a.getInteriorPoint().getCoordinates()):a instanceof q.a&&(t=function(e){var t=Object(U.c)(e);return t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"}(a),n=a.getLastCoordinate()),lt&&(lt.innerHTML=t||"",ct.setPosition(n))}))})),it.on("drawend",(function(){lt&&(lt.className="ol-tooltip ol-tooltip-static",ct.setOffset([0,-7])),at=null,lt=null,o(),Object(oe.b)(e)}))}()},_t=function(e){var t=e.map;t.removeInteraction(it),t.removeOverlay(rt)},Nt=function(e){var t=e.map;St.forEach((function(e){t.removeOverlay(e)}))},At=[],Dt=function(e){if(!e.dragging){var t="Click to start drawing";if(st){var n=st.getGeometry();n instanceof Q.a?t="Click to continue drawing the polygon":n instanceof q.a&&(t="Click to continue drawing the line")}ut.innerHTML=t,dt.setPosition(e.coordinate),ut.classList.remove("hidden")}},Kt=function(e){var t=e.map,n=e.source,a=e.type;function o(){mt&&mt.parentNode&&mt.parentNode.removeChild(mt),(mt=document.createElement("div")).className="ol-tooltip ol-tooltip-measure",pt=new L.a({element:mt,offset:[0,-15],positioning:re.a.BOTTOM_CENTER}),At.push(pt),t.addOverlay(pt)}t.on("pointermove",Dt),t.getViewport().addEventListener("mouseout",(function(){ut.classList.add("hidden")})),function(){var e;ft=new $.a({source:n,type:a,style:new ee.c({fill:new te.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ne.a({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new ae.a({radius:5,stroke:new ne.a({color:"rgba(0, 0, 0, 0.7)"}),fill:new te.a({color:"rgba(255, 255, 255, 0.2)"})})})}),t.addInteraction(ft),o(),ut&&ut.parentNode&&ut.parentNode.removeChild(ut),(ut=document.createElement("div")).className="ol-tooltip hidden",dt=new L.a({element:ut,offset:[15,0],positioning:re.a.CENTER_LEFT}),t.addOverlay(dt),ft.on("drawstart",(function(t){st=t.feature;var n=t.coordinate;e=st.getGeometry().on("change",(function(e){var t,a=e.target;a instanceof Q.a?(t=function(e){var t=Object(U.a)(e);return t>1e4?Math.round(t/1e6*100)/100+" km<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"}(a),n=a.getInteriorPoint().getCoordinates()):a instanceof q.a&&(t=function(e){var t=Object(U.c)(e);return t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"}(a),n=a.getLastCoordinate()),mt&&(mt.innerHTML=t||"",pt.setPosition(n))}))})),ft.on("drawend",(function(){mt&&(mt.className="ol-tooltip ol-tooltip-static",pt.setOffset([0,-7])),st=null,mt=null,o(),Object(oe.b)(e)}))}()},It=function(e){var t=e.map;t.removeInteraction(ft),t.removeOverlay(dt)},Tt=function(e){var t=e.map;At.forEach((function(e){t.removeOverlay(e)}))},Bt=[],Pt=function(e){var t=e.map,n=e.source;bt=new $.a({source:n,type:ie.a.CIRCLE});t.addInteraction(bt),bt.on("drawstart",(function(e){var n=e.feature.getGeometry();(yt=document.createElement("div")).className="ol-tooltip",vt=new L.a({element:yt,offset:[15,0],positioning:re.a.CENTER_LEFT}),Bt.push(vt),t.addOverlay(vt),gt=t.on("pointermove",(function(e){var t=n.getCenter(),a=n.getRadius(),o=[t[0]+a,t[1]],r=Object(U.b)(Object(N.o)(t,"EPSG:3857","EPSG:4326"),Object(N.o)(o,"EPSG:3857","EPSG:4326"));yt&&(yt.innerHTML="".concat(r.toFixed(2),"m")),vt.setPosition(e.coordinate)}))})),bt.on("drawend",(function(){yt&&(yt.className="ol-tooltip ol-tooltip-static-measure-circle"),yt=null,gt&&Object(oe.b)(gt)}))},Rt=function(e){e.map.removeInteraction(bt)},Ft=function(e){var t=e.map;Bt.forEach((function(e){t.removeOverlay(e)}))},Vt=Object(d.c)(ht||(ht=Oe())),Gt=d.b.div(Et||(Et=Ee())),Zt=d.b.span(Ot||(Ot=he()),Object(Y.a)(.1,"#ee3e3e")),Yt=d.b.div(xt||(xt=ge()),Vt),Jt=d.b.button(wt||(wt=ve()),Object(Y.a)(.1,"#9ACD32")),Xt=function(e){var t=e.onClose,n=e.position,r=Object(a.useCallback)((function(e){me.a.success("Copied: ".concat(e))}),[]);return o.a.createElement(Yt,null,o.a.createElement(Zt,{onClick:t},o.a.createElement(j.h,{size:16})),o.a.createElement(Gt,null,o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},o.a.createElement("div",null,o.a.createElement("b",null,"Location:")),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%"}},o.a.createElement("div",{style:{flexBasis:"75%",display:"flex",flexDirection:"column",width:"100%"}},o.a.createElement("span",null,o.a.createElement("b",null,"Lon:")," ",Object(N.l)(n)[0].toFixed(4)),o.a.createElement("span",null,o.a.createElement("b",null,"Lat:")," ",Object(N.l)(n)[1].toFixed(4))),o.a.createElement("div",{style:{flexBasis:"25%",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(de.a,{text:"".concat(Object(N.l)(n)[1].toFixed(5),", ").concat(Object(N.l)(n)[0].toFixed(5)),onCopy:r},o.a.createElement(Jt,null,o.a.createElement(j.e,{size:20}),o.a.createElement("span",null,"Copy"))))))))},Wt=[];var Ht,qt,Qt,Ut,$t,en={addPopup:function(e){var t=e.map,n=e.position,a=e.options,r=document.createElement("div"),c=new L.a({element:r,autoPan:!0,autoPanAnimation:{duration:250}});(null===a||void 0===a?void 0:a.clearOthers)&&Wt.forEach((function(e){return t.removeOverlay(e)})),Wt.push(c),t.addOverlay(c),c.setPosition(n),l.a.render(o.a.createElement(Xt,{position:n,onClose:function(){c.setPosition(void 0),t.removeOverlay(c)}}),r)},clearOverlays:function(e){Wt.forEach((function(t){return e.removeOverlay(t)}))}},tn=function(e){e.getViewport().style.cursor="crosshair",Ht=e.on("singleclick",(function(t){var n=t.coordinate;en.addPopup({map:e,position:n,options:{clearOthers:!0}})}))},nn=function(e){e.getViewport().style.cursor="",en.clearOverlays(e),Ht&&Object(oe.b)(Ht)},an=function(e){var t=e.styled,n=e.activeLabel,r=e.children,l=e.color,c=e.icon,i=_e().map,s=Object(a.useCallback)((function(){i&&Pe(i)}),[i]),u=Object(a.useCallback)((function(){i&&Re(i)}),[i]);return o.a.createElement(Xe,{styled:!!t,icon:c||o.a.createElement(j.g,{size:20,color:"#fff"}),color:l||"#FE2C54",activeLabel:n||"Google Street View",controlKey:"GoogleStreetView",enable:s,disable:u},r)},on=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,l=e.color,c=Object(a.useState)(!1),i=Object(x.a)(c,2),s=i[0],u=i[1],d=_e(),m=d.map,p=d.setActiveMenuControl,f=Object(a.useCallback)((function(){m&&(u(!0),We(m,(function(){p(void 0),u(!1)})))}),[m,p]),b=Object(a.useCallback)((function(){p(void 0),u(!1)}),[p]);return o.a.createElement(Xe,{styled:t,icon:r||o.a.createElement(j.c,{size:20,color:"#fff"}),activeLabel:n||"",color:l||"#9ACD32",controlKey:"ExportMapImage",loading:s,enable:f,disable:b})},rn=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,l=e.color,c=e.options,i=Object(a.useState)(!1),s=Object(x.a)(i,2),u=s[0],d=s[1],m=_e().setActiveMenuControl,p=Object(a.useCallback)((function(){d(!0)}),[]),f=Object(a.useCallback)((function(){}),[]),b=Object(a.useCallback)((function(){d(!1),m(void 0)}),[m]);return o.a.createElement(Xe,{styled:t,icon:r||o.a.createElement(j.b,{size:20,color:"#fff"}),activeLabel:n||"",color:l||"#9ACD32",controlKey:"ExportMapPDF",enable:p,disable:f,loading:u},o.a.createElement(Lt,{isOpen:u,onClose:b,options:c}))},ln=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,l=e.color,c=Object(a.useState)(new le.a),i=Object(x.a)(c,1)[0],s=Object(a.useState)(new ce.a({zIndex:1e3,source:i,style:new ee.c({fill:new te.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ne.a({color:"#ffcc33",width:2}),image:new ae.a({radius:7,fill:new te.a({color:"#ffcc33"})})})})),u=Object(x.a)(s,1)[0],d=_e(),m=d.map,p=d.addLayer;Object(a.useEffect)((function(){m&&p({layerKey:"measureDistance",layerObject:u})}),[m,p,u]);var f=Object(a.useCallback)((function(){m&&i&&zt({map:m,source:i,type:ie.a.LINE_STRING})}),[m,i]),b=Object(a.useCallback)((function(){m&&_t({map:m})}),[m]);return o.a.createElement(Xe,{styled:t,icon:r||o.a.createElement(j.f,{size:20,color:"#fff"}),activeLabel:n||"Measure Distance",color:l||"#446CD5",controlKey:"MeasureDistance",enable:f,disable:b})},cn=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,l=e.color,c=Object(a.useState)(new le.a),i=Object(x.a)(c,1)[0],s=Object(a.useState)(new ce.a({zIndex:1e3,source:i,style:new ee.c({fill:new te.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ne.a({color:"#ffcc33",width:2}),image:new ae.a({radius:7,fill:new te.a({color:"#ffcc33"})})})})),u=Object(x.a)(s,1)[0],d=_e(),m=d.map,p=d.addLayer;Object(a.useEffect)((function(){m&&p({layerKey:"measureArea",layerObject:u})}),[m,p,u]);var f=Object(a.useCallback)((function(){m&&i&&Kt({map:m,source:i,type:ie.a.POLYGON})}),[m,i]),b=Object(a.useCallback)((function(){m&&It({map:m})}),[m]);return o.a.createElement(Xe,{styled:t,icon:r||o.a.createElement(j.a,{size:20,color:"#fff"}),activeLabel:n||"Measure Area",color:l||"#446CD5",controlKey:"MeasureArea",enable:f,disable:b})},sn=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,l=e.color,c=Object(a.useState)(!1),i=Object(x.a)(c,2),s=i[0],u=i[1],d=_e(),m=d.setActiveMenuControl,p=d.map,f=d.getLayer,b=Object(a.useCallback)((function(){p&&(u(!0),setTimeout((function(){var e=function(e){var t=f(e);t&&t.getSource().clear()};e("measureDistance"),e("measureArea"),e("measureRadius"),Tt({map:p}),Nt({map:p}),Ft({map:p}),m(void 0)}),750))}),[m,f,p]),y=Object(a.useCallback)((function(){u(!1)}),[]);return o.a.createElement(Xe,{styled:t,icon:r||o.a.createElement(j.i,{size:20,color:"#fff"}),activeLabel:n||"Limpando Medidas",color:l||"#446CD5",enable:b,disable:y,controlKey:"ClearMeasures",loading:s})},un=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,l=e.color,c=Object(a.useState)(new le.a),i=Object(x.a)(c,1)[0],s=Object(a.useState)(new ce.a({zIndex:1e3,source:i,style:new ee.c({fill:new te.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ne.a({color:"#ffcc33",width:2}),image:new ae.a({radius:7,fill:new te.a({color:"#ffcc33"})})})})),u=Object(x.a)(s,1)[0],d=_e(),m=d.map,p=d.addLayer;Object(a.useEffect)((function(){m&&p({layerKey:"measureRadius",layerObject:u})}),[m,p,u]);var f=Object(a.useCallback)((function(){m&&i&&Pt({map:m,source:i})}),[m,i]),b=Object(a.useCallback)((function(){m&&Rt({map:m})}),[m]);return o.a.createElement(Xe,{styled:t,icon:r||o.a.createElement(se.a,{size:20,color:"#fff"}),activeLabel:n||"Measure Radius",color:l||"#446CD5",controlKey:"MeasureRadius",enable:f,disable:b})},dn=function(e){var t=e.styled,n=e.activeLabel,r=e.icon,l=e.color,c=_e().map,i=Object(a.useCallback)((function(){c&&tn(c)}),[c]),s=Object(a.useCallback)((function(){c&&nn(c)}),[c]);return o.a.createElement(Xe,{styled:t,icon:r||o.a.createElement(j.d,{size:20,color:"#fff"}),activeLabel:n||"Pin Coordinates",color:l||"#FF8C00",controlKey:"PinCoordinates",enable:i,disable:s})},mn=d.b.div(qt||(qt=ye()),(function(e){return e.width}),(function(e){return e.height})),pn=Object(d.a)(Qt||(Qt=be())),fn=d.b.div(Ut||(Ut=fe())),bn=function(e){var t=e.showRibbon,n=void 0===t||t,a=e.children;return a?o.a.createElement(fn,{id:"StyledMenu",className:"ol-control ".concat(n?"ribbon":"")},a):o.a.createElement("span",null)},yn=d.b.div($t||($t=pe())),vn=function(e){var t=e.height,n=e.width,r=e.id,l=e.osmBasemap,c=e.defaultControls,i=e.controlsMenu,s=e.startZoom,u=e.startCoordinates,d=e.tileDebug,m=e.children,p=_e().initMap;return Object(a.useEffect)((function(){p({id:r||"map",startCoordinates:u||[0,0],startZoom:s,defaultControls:c,defaultOSMBasemap:l,tileDebug:d})}),[r,l,c,p,u,s,d]),o.a.createElement(mn,{height:t||"100%",width:n||"100%"},o.a.createElement("div",{id:r||"map",style:{width:"100%",height:"100%"}}),i&&o.a.createElement(bn,Object.assign({},i)),m,o.a.createElement(pn,null))};vn.Controls=function(e){var t=e.showRibbon,n=void 0===t||t,a=e.children;return a?o.a.createElement(yn,{id:"StyledMenu",className:"ol-control ".concat(n?"ribbon":"")},a):o.a.createElement("span",null)};n(245);function gn(){var e=Object(u.a)(["\n\n  height:100%;\n"]);return gn=function(){return e},e}var hn=d.b.div(gn()),En=function(){return o.a.createElement(E,null,o.a.createElement(hn,null,o.a.createElement(vn,{osmBasemap:!0,defaultControls:{fullScreenMode:{},scale:{bar:!0,minWidth:100},zoomButtons:{},zoomSlider:{}},startCoordinates:[-49.2,-26.5],startZoom:11},o.a.createElement(vn.Controls,{showRibbon:!0},o.a.createElement(an,{styled:!0}),o.a.createElement(on,{styled:!0}),o.a.createElement(rn,{styled:!0}),o.a.createElement(cn,{styled:!0}),o.a.createElement(ln,{styled:!0}),o.a.createElement(un,{styled:!0}),o.a.createElement(sn,{styled:!0}),o.a.createElement(dn,{styled:!0})))))},On=n(175);function xn(){var e=Object(u.a)(["\n  height:100%;\n  box-sizing:border-box;\n  width:300px;\n  border-left:2px solid black;\n"]);return xn=function(){return e},e}function wn(){var e=Object(u.a)(["\n  height:",";\n  box-sizing:border-box;\n  margin-left:auto;\n  margin-right:auto;\n  min-width:320px;\n  flex-grow:2;\n"]);return wn=function(){return e},e}function jn(){var e=Object(u.a)(["\n  height:100%;\n  width:100%;\n  display:flex;\n  flex-direction:row;\n  flex-wrap:wrap;\n"]);return jn=function(){return e},e}var Cn=d.b.div(jn()),kn=d.b.section(wn(),On.isMobile?"90%":"100%"),Ln=d.b.section(xn());function Sn(){var e=Object(u.a)(["\n  padding:5px;\n"]);return Sn=function(){return e},e}var Mn=d.b.div(Sn()),zn=n(176),_n=n(100),Nn=n(179),An=function(){var e=Object(a.useState)(!1),t=Object(x.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(!1),c=Object(x.a)(l,2),i=c[0],s=c[1],u=_e(),d=u.addLayer,m=u.removeLayer,p=Object(zn.a)(),f=p.register,b=p.handleSubmit;Object(a.useEffect)((function(){r(!0),s(!0)}),[]);var y=Object(a.useCallback)((function(e){r(e.target.checked)}),[]),v=Object(a.useCallback)((function(e){s(e.target.checked)}),[]),g=b((function(e){var t=e.xyzSourceOptions,n=e.xyzKey,a=e.xyzLayerOptions,o=JSON.parse(t),r=JSON.parse(a);o&&r&&n&&(console.log(r,o),d({layerKey:n,layerObject:new _.a(Object(w.a)(Object(w.a)({},r),{},{source:new _n.a(o)}))}))})),h=b((function(e){var t=e.wmsKey,n=e.wmsSourceOptions,a=e.wmsLayerOptions,o=JSON.parse(n),r=JSON.parse(a);r&&o&&t&&(console.log(r,o),d({layerKey:t,layerObject:new _.a(Object(w.a)(Object(w.a)({},r),{},{source:new Nn.a(o)}))}))})),E=b((function(e){var t=e.wmsKey;t&&m({layerKey:t})})),O=b((function(e){var t=e.xyzKey;t&&m({layerKey:t})}));return Object(a.useEffect)((function(){n?d({layerKey:"tileDebug",layerObject:new _.a({zIndex:1e3,source:new z.a})}):m({layerKey:"tileDebug"})}),[d,m,n]),Object(a.useEffect)((function(){i?d({layerKey:"osmBasemap",layerObject:new _.a({zIndex:1,source:new M.a})}):m({layerKey:"osmBasemap"})}),[d,m,i]),o.a.createElement(Mn,null,o.a.createElement("input",{id:"tileDebug",name:"tileDebug",type:"checkbox",checked:n,onChange:y}),o.a.createElement("label",{htmlFor:"tileDebug"},"  XYZ Tile Debug"),o.a.createElement("br",null),o.a.createElement("input",{id:"osmBasemap",name:"osmBasemap",type:"checkbox",checked:i,onChange:v}),o.a.createElement("label",{htmlFor:"osmBasemap"},"OSM Basemap"),o.a.createElement("div",{style:{marginTop:"10px",borderTop:"2px solid black",width:"100%",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},o.a.createElement("span",{style:{fontWeight:"bold",fontSize:"18px"}},"XYZ Tiles"),o.a.createElement("label",{htmlFor:"xyzLayerOptions"},"Layer Options: \xa0",o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://openlayers.org/en/latest/apidoc/module-ol_layer_Tile-TileLayer.html"},"Open OL Specification")),o.a.createElement("textarea",{defaultValue:JSON.stringify({zIndex:1},null,2),ref:f,id:"xyzLayerOptions",name:"xyzLayerOptions",style:{height:"80px",width:"100%"}}),o.a.createElement("label",{htmlFor:"xyzSourceOptions"},"XYZ Source Config: \xa0",o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://openlayers.org/en/latest/apidoc/module-ol_source_XYZ-XYZ.html"},"Open OL Specification")),o.a.createElement("textarea",{defaultValue:JSON.stringify({url:"https://mt0.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",maxZoom:18,tileSize:256,transition:200},null,2),ref:f,id:"xyzSourceOptions",name:"xyzSourceOptions",style:{height:"150px",width:"100%"}}),o.a.createElement("br",null),o.a.createElement("label",{htmlFor:"xyzKey"},"Name an unique key for the layer:"),o.a.createElement("input",{id:"xyzKey",name:"xyzKey",defaultValue:"xyz-layer-1",ref:f}),o.a.createElement("input",{type:"submit",value:"Add XYZ Layer",onClick:g}),o.a.createElement("input",{type:"submit",value:"Remove XYZ Layer by Key",onClick:O})),o.a.createElement("div",{style:{marginTop:"10px",borderTop:"2px solid black",width:"100%",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},o.a.createElement("span",{style:{fontWeight:"bold",fontSize:"18px"}},"WMS Tiles"),o.a.createElement("label",{htmlFor:"xyzLayerOptions"},"Layer Options: \xa0",o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://openlayers.org/en/latest/apidoc/module-ol_layer_Tile-TileLayer.html"},"Open OL Specification")),o.a.createElement("textarea",{defaultValue:JSON.stringify({zIndex:2},null,2),ref:f,id:"wmsLayerOptions",name:"wmsLayerOptions",style:{height:"80px",width:"100%"}}),o.a.createElement("label",{htmlFor:"wmsOptions"},"TiledWMS Source Config: \xa0",o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://openlayers.org/en/latest/apidoc/module-ol_source_XYZ-XYZ.html"},"See OL Specification")),o.a.createElement("textarea",{defaultValue:JSON.stringify({url:"https://ahocevar.com/geoserver/wms",params:{LAYERS:"topp:states",TILED:!0},serverType:"geoserver",transition:0},null,2),ref:f,id:"wmsSourceOptions",name:"wmsSourceOptions",style:{height:"200px",width:"100%"}}),o.a.createElement("label",{htmlFor:"wmsKey"},"Name an unique key for the layer:"),o.a.createElement("input",{id:"wmsKey",name:"wmsKey",defaultValue:"wms-layer-1",ref:f}),o.a.createElement("input",{type:"submit",value:"Add WMS Layer",onClick:h}),o.a.createElement("input",{type:"submit",value:"Remove WMS Layer by Key",onClick:E})))},Dn=function(){return o.a.createElement(E,null,o.a.createElement(Cn,null,o.a.createElement(kn,null,o.a.createElement(vn,{defaultControls:{fullScreenMode:{},scale:{bar:!0,minWidth:100},zoomButtons:{},zoomSlider:{}},startCoordinates:[-69.2,10],startZoom:4},o.a.createElement(vn.Controls,{showRibbon:!0},o.a.createElement(an,{styled:!0}),o.a.createElement(on,{styled:!0}),o.a.createElement(rn,{styled:!0}),o.a.createElement(cn,{styled:!0}),o.a.createElement(ln,{styled:!0}),o.a.createElement(un,{styled:!0}),o.a.createElement(sn,{styled:!0}),o.a.createElement(dn,{styled:!0})))),o.a.createElement(Ln,null,o.a.createElement(An,null))))},Kn=function(){return o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/blank",component:O}),o.a.createElement(s.a,{path:"/map-debug",component:Dn}),o.a.createElement(s.a,{path:"/",component:En}))};function In(){var e=Object(u.a)(["\n  body {\n    background-color:",";\n  }\n"]);return In=function(){return e},e}var Tn=Object(d.a)(In(),Object(m.b)(p.darkBlue,.03));var Bn=function(){return o.a.createElement(i,null,o.a.createElement(Kn,null),o.a.createElement(Tn,null))};l.a.render(o.a.createElement(Bn,null),document.getElementById("root"))}},[[201,1,2]]]);
//# sourceMappingURL=main.2d666b89.chunk.js.map