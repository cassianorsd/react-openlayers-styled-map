(this["webpackJsonpreact-openlayers-map-example"]=this["webpackJsonpreact-openlayers-map-example"]||[]).push([[0],{167:function(e,t,a){},208:function(e,t,a){e.exports=a(252)},209:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);a(209);var n=a(1),o=a.n(n),r=a(47),l=a.n(r),c=a(113),i=function(e){var t=e.children;return o.a.createElement(c.a,{basename:"/react-openlayers-styled-map"},t)},s=a(38),u=a(33),m=a(34),d=a(124),p={darkBlue:"#1F3B4D"};function f(){var e=Object(u.a)(["\n  user-select:none;\n  text-decoration:none;\n  color:#000;\n  background-color: ",";\n  border-radius:5px;\n  padding: 3px 10px 3px;\n  display:flex;\n  flex-wrap:wrap;\n  justify-content:center;\n  align-items:center;\n  & + a {\n    margin-left:10px;\n  }\n  transition: background-color 300ms ease;\n  &:hover {\n    cursor:pointer;\n    background-color: ","\n  }\n\n"]);return f=function(){return e},e}function b(){var e=Object(u.a)(["\n  background-color:",";\n  height: 35px;\n  display:flex;\n  flex-wrap:wrap;\n  justify-content:flex-start;\n  align-items:center;\n  padding: 0px 10px 0px;\n"]);return b=function(){return e},e}function y(){var e=Object(u.a)(["\n  height:100vh;\n  display:flex;\n  flex-direction:column;\n  justify-content:stretch;\n  align-items:stretch;\n"]);return y=function(){return e},e}var v=m.b.div(y()),g=m.b.div(b(),p.darkBlue),E=Object(m.b)(c.b)(f(),Object(d.a)(.3,p.darkBlue),Object(d.a)(.5,p.darkBlue)),O=function(e){var t=e.children;return o.a.createElement(v,null,o.a.createElement(g,null,o.a.createElement(E,{to:"/"},"Map"),o.a.createElement(E,{to:"/blank"},"Blank Page"),o.a.createElement(E,{to:"/map-debug"},"Map Debug")),t)},h=function(){return o.a.createElement(O,null,"This is a blank page to test remount of map component")},w=a(23),j=a(66),x=a(81),_=a(272),C=a(184),k=a(270),S=(a(218),a(183)),L=a(175),M=a(176),z=a(93),T=a(5),N=a(61),A=a(128),K=a(126),D=a(99),P=a(127),B=a(156),I=a.n(B),R=a(119),F=a.n(R),V=a(186),Z=a(159),G=a(131),J=a.n(G),X=a(171),Y=a(146),W=a.n(Y),H=a(147),q=a(160),U=a(271),Q=a(172),$=a(73),ee=a(50),te=a(77),ae=a(105),ne=a(79),oe=a(60),re=a(67),le=a(86),ce=a(84),ie=a(45),se=a(111),ue=a(110),me=a(3),de=a(180),pe=a(173),fe=a.n(pe),be=a(174);a(248);function ye(){var e=Object(u.a)(["\n  margin-top: auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n"]);return ye=function(){return e},e}function ve(){var e=Object(u.a)(["\n  padding: 5px;\n"]);return ve=function(){return e},e}function ge(){var e=Object(u.a)(["\n  text-align: center;\n  background-color: #ff073a;\n  color: #fff;\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: background-color 300ms ease;\n  margin-left: auto;\n  &:hover {\n    background-color: ",";\n  }\n"]);return ge=function(){return e},e}function Ee(){var e=Object(u.a)(["\n  text-align: center;\n  flex-basis: 85%;\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(u.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n"]);return Oe=function(){return e},e}function he(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n  min-height: 250px;\n  min-width: 250px;\n  max-width: 300px;\n"]);return he=function(){return e},e}function we(){var e=Object(u.a)(["\n              background-color: ",";\n              &:hover {\n                background-color: ",";\n              }\n            "]);return we=function(){return e},e}var je={map:void 0,activeMenuControl:void 0},xe={initMap:function(e,t){var a=t.id,n=t.startCoordinates,o=t.startZoom,r=t.defaultControls,l=t.defaultOSMBasemap,c=t.tileDebug;e.state.map&&e.state.map.setTarget(void 0);var i=document.getElementById(a);if(i){var s=[];(null===r||void 0===r?void 0:r.zoomButtons)&&s.push(new D.a(r.zoomButtons)),(null===r||void 0===r?void 0:r.scale)&&s.push(new K.a(r.scale)),(null===r||void 0===r?void 0:r.fullScreenMode)&&s.push(new P.a(r.fullScreenMode)),(null===r||void 0===r?void 0:r.zoomSlider)&&s.push(new A.a(r.zoomSlider));var u=document.getElementById("StyledMenu");if(u){u.id="styledMenuContainer";var m=new N.a({element:u});s.push(m)}var d=[];l&&d.push(new z.a({zIndex:1,source:new L.a})),c&&d.push(new z.a({zIndex:1e3,source:new M.a(c)}));var p=new _.a({target:i,layers:d,view:new C.a({center:Object(T.d)(n),zoom:o||10}),controls:s});e.actions.setActiveMenuControl(void 0),console.log("[MAP ENGINE] Started."),e.setState(Object(j.a)(Object(j.a)({},e.state),{},{map:p}))}},addLayer:function(e,t){var a=t.layerKey,n=t.layerObject;e.state.map&&(n.set("layerKey",a),e.actions.removeLayer({layerKey:a}),e.state.map.addLayer(n))},removeLayer:function(e,t){var a=t.layerKey,n=t.layerObject;e.state.map&&(n?e.state.map.removeLayer(n):a&&e.state.map.getLayers().getArray().filter((function(e){return e.get("layerKey")===a})).forEach((function(t){e.state.map&&e.state.map.removeLayer(t)})))},getLayer:function(e,t){if(e.state.map)return e.state.map.getLayers().getArray().find((function(e){return e.get("layerKey")===t}))||void 0},setActiveMenuControl:function(e,t){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{activeMenuControl:t}))}},_e=Object(S.a)(o.a,je,xe);function Ce(){var e=_e(),t=Object(w.a)(e,2),a=t[0],n=t[1];return{initMap:n.initMap,map:a.map,addLayer:n.addLayer,removeLayer:n.removeLayer,getLayer:n.getLayer,activeMenuControl:a.activeMenuControl,setActiveMenuControl:n.setActiveMenuControl}}var ke,Se,Le,Me,ze,Te,Ne,Ae=function(e){var t=Object(T.l)(e.coordinate),a="https://www.google.com/maps?layer=c&cbll=".concat(t[1],",").concat(t[0]);window.open(a,"_blank")},Ke=function(e){e.getViewport().style.cursor="crosshair",e.on("click",Ae)},De=function(e){e.getViewport().style.cursor="",e.un("click",Ae)},Pe="_styles__controlButton__2gXdb",Be="_styles__styled__1o1-i",Ie="_styles__active__2pQZ8",Re="_styles__content__2rr6g",Fe="_styles__activeLabel__uZ6st",Ve="_styles__IconDiv__34hmP",Ze=function(e){var t=e.children,a=e.styled,r=e.icon,l=e.color,c=e.controlKey,i=e.disable,s=e.enable,u=e.activeLabel,m=e.loading,d=Object(n.useState)(!1),p=Object(w.a)(d,2),f=p[0],b=p[1],y=Ce(),v=y.setActiveMenuControl,g=y.activeMenuControl,E=Object(n.useCallback)((function(){v(f?void 0:c)}),[f,v,c]);return Object(n.useEffect)((function(){g!==c||f?g!==c&&f&&(b(!1),i&&i()):(b(!0),s&&s())}),[g,c,f,s,i]),o.a.createElement("button",{onClick:E,className:F()(Pe,f&&Ie,a&&Be),id:"".concat(c,"-button")},o.a.createElement("div",{className:F()(Re,a&&Object(V.a)(ke||(ke=we()),l||"#fff",Object(Z.a)(.1,l||"#fff")))},a&&u&&o.a.createElement("span",{className:Fe},u),m&&o.a.createElement("div",{className:Ve},o.a.createElement(I.a,{name:"circle",color:"#fff",fadeIn:"quarter"})),!m&&r&&o.a.createElement("div",{className:Ve},r),t))},Ge=function(e,t){e.once("rendercomplete",(function(){J()(e.getViewport(),{allowTaint:!0,useCORS:!0}).then((function(e){e.toBlob((function(e){e&&(Object(X.saveAs)(e,"map.png"),t())}))}))})),e.renderSync()},Je=m.b.div(Se||(Se=he())),Xe=m.b.div(Le||(Le=Oe())),Ye=m.b.h3(Me||(Me=Ee())),We=m.b.button(ze||(ze=ge()),Object(Z.a)(.1,"#ff073a")),He=m.b.form(Te||(Te=ve())),qe=m.b.div(Ne||(Ne=ye())),Ue=function(e){var t=e.map,a=e.startCallback,n=e.endCallback,o=e.pageDimmentions,r=e.orientation,l=e.pageSize;a&&a(),t.once("rendercomplete",(function(){J()(t.getViewport()).then((function(e){var a=new Q.a(r,void 0,l),c=o,i=t.getSize(),s=Math.max(i[1]/(("landscape"===r?c[1]:c[0])-20),i[0]/(("landscape"===r?c[0]:c[1])-20)),u=[i[0]/s,i[1]/s],m=[Math.abs((("landscape"===r?c[0]:c[1])-u[0])/2),Math.abs((("landscape"===r?c[1]:c[0])-u[1])/2)],d=m[0],p=m[1];a.addImage(e.toDataURL("image/jpeg"),"JPEG",d,p,u[0],u[1]),a.save("map.pdf"),n&&n()}))})),t.renderSync()},Qe={content:{padding:"5px",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",borderRadius:"10px"}};W.a.setAppElement("#root");var $e,et,tt,at,nt,ot,rt,lt,ct,it,st,ut,mt,dt,pt,ft,bt=[{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"}],yt={A0:[1189,841],A1:[841,594],A2:[594,420],A3:[420,297],A4:[297,210],A5:[210,148]},vt=[{value:"landscape",label:"Paisagem"},{value:"portrait",label:"Retrato"}],gt=function(e){var t=e.isOpen,a=e.onClose,r=e.options,l=Ce(),c=l.map,i=l.setActiveMenuControl,s=Object(H.b)(),u=s.control,m=s.handleSubmit,d=Object(n.useState)(!1),p=Object(w.a)(d,2),f=p[0],b=p[1],y=m((function(e){var t=e.orientation,n=e.pageSize;t&&n&&c&&Ue({map:c,orientation:t.value,pageSize:n.value,pageDimmentions:(null===r||void 0===r?void 0:r.pageSizesDimmentions)?r.pageSizesDimmentions[n.value]:yt[n.value],startCallback:function(){b(!0)},endCallback:function(){i(void 0),b(!1),a()}})}));return o.a.createElement("div",null,o.a.createElement(W.a,{isOpen:t,onRequestClose:a,contentLabel:"Example Modal",style:Qe},o.a.createElement(Je,null,o.a.createElement(Xe,null,o.a.createElement(Ye,null,"Export PDF"),o.a.createElement(We,{onClick:a},o.a.createElement(x.h,{size:20}))),o.a.createElement(He,{onSubmit:y},o.a.createElement("span",null,"P\xe1gina:"),o.a.createElement(H.a,{name:"pageSize",as:o.a.createElement(q.a,null),options:(null===r||void 0===r?void 0:r.pageSizes)||bt,control:u,defaultValue:{value:"A4",label:"A4"}}),o.a.createElement("span",null,"Orienta\xe7\xe3o:"),o.a.createElement(H.a,{name:"orientation",as:o.a.createElement(q.a,null),options:(null===r||void 0===r?void 0:r.pageOrientations)||vt,control:u,defaultValue:{value:"landscape",label:"Paisagem"}})),o.a.createElement(qe,null,o.a.createElement(U.a,{color:"green",onClick:y},"Gerar"),o.a.createElement(U.a,{color:"red",onClick:a},"Cancelar")))),o.a.createElement(W.a,{isOpen:f,style:Qe},o.a.createElement("div",{style:{width:"200px",height:"120px",borderRadius:"5px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}},o.a.createElement(I.a,{name:"line-scale-pulse-out-rapid",color:"green",fadeIn:"none",style:{transform:"scale(1.5)"}}),o.a.createElement("span",null,"Gerando PDF..."))))},Et={olTooltip:"_styles__olTooltip__3spO-",olTooltipMeasure:"_styles__olTooltipMeasure__1aU7E",olTooltipStatic:"_styles__olTooltipStatic__8ix5m",olTooltipStaticMeasureCircle:"_styles__olTooltipStaticMeasureCircle__3hTsX"},Ot=[],ht=function(e){if(!e.dragging){var t="Click to start drawing";if($e){var a=$e.getGeometry();a instanceof ee.a?t="Click to continue drawing the polygon":a instanceof $.a&&(t="Click to continue drawing the line")}et.innerHTML=t,tt.setPosition(e.coordinate),et.classList.remove("hidden")}},wt=function(e){var t=e.map,a=e.source,n=e.type;function o(){at&&at.parentNode&&at.parentNode.removeChild(at),(at=document.createElement("div")).className=Et.olTooltip+" "+Et.olTooltipMeasure,nt=new k.a({element:at,offset:[0,-15],positioning:ie.a.BOTTOM_CENTER}),Ot.push(nt),t.addOverlay(nt)}t.on("pointermove",ht),t.getViewport().addEventListener("mouseout",(function(){et.classList.add("hidden")})),function(){var e;ot=new ae.a({source:a,type:n,style:new ne.c({fill:new oe.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new re.a({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new le.a({radius:5,stroke:new re.a({color:"rgba(0, 0, 0, 0.7)"}),fill:new oe.a({color:"rgba(255, 255, 255, 0.2)"})})})}),t.addInteraction(ot),o(),et&&et.parentNode&&et.parentNode.removeChild(et),(et=document.createElement("div")).className=Et.olToltip+" hidden",tt=new k.a({element:et,offset:[15,0],positioning:ie.a.CENTER_LEFT}),t.addOverlay(tt),ot.on("drawstart",(function(t){$e=t.feature;var a=t.coordinate;e=$e.getGeometry().on("change",(function(e){var t,n=e.target;n instanceof ee.a?(t=function(e){var t=Object(te.a)(e);return t>1e4?Math.round(t/1e6*100)/100+" km<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"}(n),a=n.getInteriorPoint().getCoordinates()):n instanceof $.a&&(t=function(e){var t=Object(te.c)(e);return t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"}(n),a=n.getLastCoordinate()),at&&(at.innerHTML=t||"",nt.setPosition(a))}))})),ot.on("drawend",(function(){at&&(at.classList.add(Et.olTooltip),at.classList.add(Et.olTooltipStatic),nt.setOffset([0,-7])),$e=null,at=null,o(),Object(ce.b)(e)}))}()},jt=function(e){var t=e.map;t.removeInteraction(ot),t.removeOverlay(tt)},xt=function(e){var t=e.map;Ot.forEach((function(e){t.removeOverlay(e)}))},_t=[],Ct=function(e){if(!e.dragging){var t="Click to start drawing";if(rt){var a=rt.getGeometry();a instanceof ee.a?t="Click to continue drawing the polygon":a instanceof $.a&&(t="Click to continue drawing the line")}lt.innerHTML=t,ct.setPosition(e.coordinate),lt.classList.remove("hidden")}},kt=function(e){var t=e.map,a=e.source,n=e.type;function o(){it&&it.parentNode&&it.parentNode.removeChild(it),(it=document.createElement("div")).className=Et.olTooltip+" "+Et.olTooltipMeasure,st=new k.a({element:it,offset:[0,-15],positioning:ie.a.BOTTOM_CENTER}),_t.push(st),t.addOverlay(st)}t.on("pointermove",Ct),t.getViewport().addEventListener("mouseout",(function(){lt.classList.add("hidden")})),function(){var e;ut=new ae.a({source:a,type:n,style:new ne.c({fill:new oe.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new re.a({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new le.a({radius:5,stroke:new re.a({color:"rgba(0, 0, 0, 0.7)"}),fill:new oe.a({color:"rgba(255, 255, 255, 0.2)"})})})}),t.addInteraction(ut),o(),lt&&lt.parentNode&&lt.parentNode.removeChild(lt),(lt=document.createElement("div")).className=Et.olTooltip+" hidden",ct=new k.a({element:lt,offset:[15,0],positioning:ie.a.CENTER_LEFT}),t.addOverlay(ct),ut.on("drawstart",(function(t){rt=t.feature;var a=t.coordinate;e=rt.getGeometry().on("change",(function(e){var t,n=e.target;n instanceof ee.a?(t=function(e){var t=Object(te.a)(e);return t>1e4?Math.round(t/1e6*100)/100+" km<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"}(n),a=n.getInteriorPoint().getCoordinates()):n instanceof $.a&&(t=function(e){var t=Object(te.c)(e);return t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"}(n),a=n.getLastCoordinate()),it&&(it.innerHTML=t||"",st.setPosition(a))}))})),ut.on("drawend",(function(){it&&(it.className=Et.olTooltip+" "+Et.olTooltipStatic,st.setOffset([0,-7])),rt=null,it=null,o(),Object(ce.b)(e)}))}()},St=function(e){var t=e.map;t.removeInteraction(ut),t.removeOverlay(ct)},Lt=function(e){var t=e.map;_t.forEach((function(e){t.removeOverlay(e)}))},Mt=[],zt=function(e){var t=e.map,a=e.source;mt=new ae.a({source:a,type:me.a.CIRCLE});t.addInteraction(mt),mt.on("drawstart",(function(e){var a=e.feature.getGeometry();(dt=document.createElement("div")).className=Et.olTooltip,pt=new k.a({element:dt,offset:[15,0],positioning:ie.a.CENTER_LEFT}),Mt.push(pt),t.addOverlay(pt),ft=t.on("pointermove",(function(e){var t=a.getCenter(),n=a.getRadius(),o=[t[0]+n,t[1]],r=Object(te.b)(Object(T.o)(t,"EPSG:3857","EPSG:4326"),Object(T.o)(o,"EPSG:3857","EPSG:4326"));dt&&(dt.innerHTML="".concat(r.toFixed(2),"m")),pt.setPosition(e.coordinate)}))})),mt.on("drawend",(function(){dt&&(dt.className=Et.olTooltip+" "+Et.olTooltipStaticMeasureCircle),dt=null,ft&&Object(ce.b)(ft)}))},Tt=function(e){e.map.removeInteraction(mt)},Nt=function(e){var t=e.map;Mt.forEach((function(e){t.removeOverlay(e)}))},At="_styles__content__3cV6N",Kt="_styles__title__XvhPQ",Dt="_styles__panesContainer__3u-H4",Pt="_styles__leftPane__3UkKb",Bt="_styles__rightPane__1xwL8",It="_styles__copyButton__1w7B4",Rt="_styles__closer__3YW2Z",Ft="_styles__popup__2rpRp",Vt=function(e){var t=e.onClose,a=e.position;console.log(t,a);var r=Object(n.useCallback)((function(e){be.a.success("Copied: ".concat(e))}),[]);return o.a.createElement("div",null,o.a.createElement("span",{className:Rt,onClick:t},o.a.createElement(x.h,{size:18})),o.a.createElement("div",{className:At},o.a.createElement("div",{className:Kt},"Location:"),o.a.createElement("div",{className:Dt},o.a.createElement("div",{className:Pt},o.a.createElement("span",null,o.a.createElement("b",null,"Lon:")," ",Object(T.l)(a)[0].toFixed(4)),o.a.createElement("span",null,o.a.createElement("b",null,"Lat:")," ",Object(T.l)(a)[1].toFixed(4))),o.a.createElement("div",{className:Bt},o.a.createElement(fe.a,{text:"".concat(Object(T.l)(a)[1].toFixed(5),", ").concat(Object(T.l)(a)[0].toFixed(5)),onCopy:r},o.a.createElement("button",{className:It},o.a.createElement(x.e,{size:20}),o.a.createElement("span",null,"Copy")))))))},Zt=[];var Gt,Jt={addPopup:function(e){var t=e.map,a=e.position,n=e.options,r=document.createElement("div"),c=document.createElement("div");if(r.appendChild(c),r.classList.add(Ft),r){var i=new k.a({element:r,autoPan:!0,autoPanMargin:100,autoPanAnimation:{duration:250}});(null===n||void 0===n?void 0:n.clearOthers)&&Zt.forEach((function(e){return t.removeOverlay(e)})),Zt.push(i),t.addOverlay(i),t.getViewport().style.cursor="crosshair",l.a.render(o.a.createElement(Vt,{position:a,onClose:function(){i.setPosition(void 0),t.removeOverlay(i)}}),r),i.setPosition(a)}},clearOverlays:function(e){Zt.forEach((function(t){return e.removeOverlay(t)}))}},Xt=function(e){e.getViewport().style.cursor="crosshair",Gt=e.on("singleclick",(function(t){var a=t.coordinate;Jt.addPopup({map:e,position:a,options:{clearOthers:!0}})}))},Yt=function(e){e.getViewport().style.cursor="",Jt.clearOverlays(e),Gt&&Object(ce.b)(Gt)},Wt=function(e){var t=e.styled,a=e.activeLabel,r=e.children,l=e.color,c=e.icon,i=Ce().map,s=Object(n.useCallback)((function(){i&&Ke(i)}),[i]),u=Object(n.useCallback)((function(){i&&De(i)}),[i]);return o.a.createElement(Ze,{styled:!!t,icon:c||o.a.createElement(x.g,{size:20,color:"#fff"}),color:l||"#FE2C54",activeLabel:a||"Google Street View",controlKey:"GoogleStreetView",enable:s,disable:u},r)},Ht=function(e){var t=e.styled,a=e.activeLabel,r=e.icon,l=e.color,c=Object(n.useState)(!1),i=Object(w.a)(c,2),s=i[0],u=i[1],m=Ce(),d=m.map,p=m.setActiveMenuControl,f=Object(n.useCallback)((function(){d&&(u(!0),Ge(d,(function(){p(void 0),u(!1)})))}),[d,p]),b=Object(n.useCallback)((function(){p(void 0),u(!1)}),[p]);return o.a.createElement(Ze,{styled:t,icon:r||o.a.createElement(x.c,{size:20,color:"#fff"}),activeLabel:a||"",color:l||"#9ACD32",controlKey:"ExportMapImage",loading:s,enable:f,disable:b})},qt=function(e){var t=e.styled,a=e.activeLabel,r=e.icon,l=e.color,c=e.options,i=Object(n.useState)(!1),s=Object(w.a)(i,2),u=s[0],m=s[1],d=Ce().setActiveMenuControl,p=Object(n.useCallback)((function(){m(!0)}),[]),f=Object(n.useCallback)((function(){}),[]),b=Object(n.useCallback)((function(){m(!1),d(void 0)}),[d]);return o.a.createElement(Ze,{styled:t,icon:r||o.a.createElement(x.b,{size:20,color:"#fff"}),activeLabel:a||"",color:l||"#9ACD32",controlKey:"ExportMapPDF",enable:p,disable:f,loading:u},o.a.createElement(gt,{isOpen:u,onClose:b,options:c}))},Ut=function(e){var t=e.styled,a=e.activeLabel,r=e.icon,l=e.color,c=Object(n.useState)(new se.a),i=Object(w.a)(c,1)[0],s=Object(n.useState)(new ue.a({zIndex:1e3,source:i,style:new ne.c({fill:new oe.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new re.a({color:"#ffcc33",width:2}),image:new le.a({radius:7,fill:new oe.a({color:"#ffcc33"})})})})),u=Object(w.a)(s,1)[0],m=Ce(),d=m.map,p=m.addLayer;Object(n.useEffect)((function(){d&&p({layerKey:"measureDistance",layerObject:u})}),[d,p,u]);var f=Object(n.useCallback)((function(){d&&i&&wt({map:d,source:i,type:me.a.LINE_STRING})}),[d,i]),b=Object(n.useCallback)((function(){d&&jt({map:d})}),[d]);return o.a.createElement(Ze,{styled:t,icon:r||o.a.createElement(x.f,{size:20,color:"#fff"}),activeLabel:a||"Measure Distance",color:l||"#446CD5",controlKey:"MeasureDistance",enable:f,disable:b})},Qt=function(e){var t=e.styled,a=e.activeLabel,r=e.icon,l=e.color,c=Object(n.useState)(new se.a),i=Object(w.a)(c,1)[0],s=Object(n.useState)(new ue.a({zIndex:1e3,source:i,style:new ne.c({fill:new oe.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new re.a({color:"#ffcc33",width:2}),image:new le.a({radius:7,fill:new oe.a({color:"#ffcc33"})})})})),u=Object(w.a)(s,1)[0],m=Ce(),d=m.map,p=m.addLayer;Object(n.useEffect)((function(){d&&p({layerKey:"measureArea",layerObject:u})}),[d,p,u]);var f=Object(n.useCallback)((function(){d&&i&&kt({map:d,source:i,type:me.a.POLYGON})}),[d,i]),b=Object(n.useCallback)((function(){d&&St({map:d})}),[d]);return o.a.createElement(Ze,{styled:t,icon:r||o.a.createElement(x.a,{size:20,color:"#fff"}),activeLabel:a||"Measure Area",color:l||"#446CD5",controlKey:"MeasureArea",enable:f,disable:b})},$t=function(e){var t=e.styled,a=e.activeLabel,r=e.icon,l=e.color,c=Object(n.useState)(!1),i=Object(w.a)(c,2),s=i[0],u=i[1],m=Ce(),d=m.setActiveMenuControl,p=m.map,f=m.getLayer,b=Object(n.useCallback)((function(){p&&(u(!0),setTimeout((function(){var e=function(e){var t=f(e);t&&t.getSource().clear()};e("measureDistance"),e("measureArea"),e("measureRadius"),Lt({map:p}),xt({map:p}),Nt({map:p}),d(void 0)}),750))}),[d,f,p]),y=Object(n.useCallback)((function(){u(!1)}),[]);return o.a.createElement(Ze,{styled:t,icon:r||o.a.createElement(x.i,{size:20,color:"#fff"}),activeLabel:a||"Limpando Medidas",color:l||"#446CD5",enable:b,disable:y,controlKey:"ClearMeasures",loading:s})},ea=function(e){var t=e.styled,a=e.activeLabel,r=e.icon,l=e.color,c=Object(n.useState)(new se.a),i=Object(w.a)(c,1)[0],s=Object(n.useState)(new ue.a({zIndex:1e3,source:i,style:new ne.c({fill:new oe.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new re.a({color:"#ffcc33",width:2}),image:new le.a({radius:7,fill:new oe.a({color:"#ffcc33"})})})})),u=Object(w.a)(s,1)[0],m=Ce(),d=m.map,p=m.addLayer;Object(n.useEffect)((function(){d&&p({layerKey:"measureRadius",layerObject:u})}),[d,p,u]);var f=Object(n.useCallback)((function(){d&&i&&zt({map:d,source:i})}),[d,i]),b=Object(n.useCallback)((function(){d&&Tt({map:d})}),[d]);return o.a.createElement(Ze,{styled:t,icon:r||o.a.createElement(de.a,{size:20,color:"#fff"}),activeLabel:a||"Measure Radius",color:l||"#446CD5",controlKey:"MeasureRadius",enable:f,disable:b})},ta=function(e){var t=e.styled,a=e.activeLabel,r=e.icon,l=e.color,c=Ce().map,i=Object(n.useCallback)((function(){c&&Xt(c)}),[c]),s=Object(n.useCallback)((function(){c&&Yt(c)}),[c]);return o.a.createElement(Ze,{styled:t,icon:r||o.a.createElement(x.d,{size:20,color:"#fff"}),activeLabel:a||"Pin Coordinates",color:l||"#FF8C00",controlKey:"PinCoordinates",enable:i,disable:s})},aa="_StyledMenu-module__container__JJlls",na="_StyledMenu-module__ribbon__2NBJ2",oa=function(e){var t=e.showRibbon,a=void 0===t||t,n=e.children;return n?o.a.createElement("div",{id:"StyledMenu",className:F()("ol-control",aa,a&&na)},n):o.a.createElement("span",null)},ra="_styles-module__container__3ZhFl",la=function(e){var t=e.id,a=e.osmBasemap,r=e.defaultControls,l=e.controlsMenu,c=e.startZoom,i=e.startCoordinates,s=e.tileDebug,u=e.children,m=Ce().initMap;return Object(n.useEffect)((function(){m({id:t||"map",startCoordinates:i||[0,0],startZoom:c,defaultControls:r,defaultOSMBasemap:a,tileDebug:s})}),[t,a,r,m,i,c,s]),o.a.createElement("div",{className:ra},o.a.createElement("div",{id:t||"map",style:{width:"100%",height:"100%"}}),l&&o.a.createElement(oa,Object.assign({},l)),u)};la.Controls=oa;a(167);function ca(){var e=Object(u.a)(["\n  height:100%;\n  /* height:500px;\n  width:500px; */\n"]);return ca=function(){return e},e}var ia=m.b.div(ca()),sa=function(){return o.a.createElement(O,null,o.a.createElement(ia,null,o.a.createElement(la,{osmBasemap:!0,defaultControls:{fullScreenMode:{},scale:{bar:!0,minWidth:100},zoomButtons:{},zoomSlider:{}},startCoordinates:[-49.2,-26.5],startZoom:11},o.a.createElement(la.Controls,{showRibbon:!0},o.a.createElement(Wt,{styled:!0}),o.a.createElement(Ht,{styled:!0}),o.a.createElement(qt,{styled:!0}),o.a.createElement(Qt,{styled:!0}),o.a.createElement(Ut,{styled:!0}),o.a.createElement(ea,{styled:!0}),o.a.createElement($t,{styled:!0}),o.a.createElement(ta,{styled:!0})))))},ua=a(181);function ma(){var e=Object(u.a)(["\n  height:100%;\n  box-sizing:border-box;\n  width:300px;\n  border-left:2px solid black;\n"]);return ma=function(){return e},e}function da(){var e=Object(u.a)(["\n  height:",";\n  box-sizing:border-box;\n  margin-left:auto;\n  margin-right:auto;\n  min-width:320px;\n  flex-grow:2;\n"]);return da=function(){return e},e}function pa(){var e=Object(u.a)(["\n  height:100%;\n  width:100%;\n  display:flex;\n  flex-direction:row;\n  flex-wrap:wrap;\n"]);return pa=function(){return e},e}var fa=m.b.div(pa()),ba=m.b.section(da(),ua.isMobile?"90%":"100%"),ya=m.b.section(ma());function va(){var e=Object(u.a)(["\n  padding:5px;\n  font-size:12px;\n  \n  \n  textarea {\n    font-size:10px;\n  }\n"]);return va=function(){return e},e}var ga=m.b.div(va()),Ea=a(182),Oa=a(102),ha=a(185),wa=function(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),c=Object(w.a)(l,2),i=c[0],s=c[1],u=Ce(),m=u.addLayer,d=u.removeLayer,p=Object(Ea.a)(),f=p.register,b=p.handleSubmit;Object(n.useEffect)((function(){r(!0),s(!0)}),[]);var y=Object(n.useCallback)((function(e){r(e.target.checked)}),[]),v=Object(n.useCallback)((function(e){s(e.target.checked)}),[]),g=b((function(e){var t=e.xyzSourceOptions,a=e.xyzKey,n=e.xyzLayerOptions,o=JSON.parse(t),r=JSON.parse(n);o&&r&&a&&(console.log(r,o),m({layerKey:a,layerObject:new z.a(Object(j.a)(Object(j.a)({},r),{},{source:new Oa.a(o)}))}))})),E=b((function(e){var t=e.wmsKey,a=e.wmsSourceOptions,n=e.wmsLayerOptions,o=JSON.parse(a),r=JSON.parse(n);r&&o&&t&&(console.log(r,o),m({layerKey:t,layerObject:new z.a(Object(j.a)(Object(j.a)({},r),{},{source:new ha.a(o)}))}))})),O=b((function(e){var t=e.wmsKey;t&&d({layerKey:t})})),h=b((function(e){var t=e.xyzKey;t&&d({layerKey:t})}));return Object(n.useEffect)((function(){a?m({layerKey:"tileDebug",layerObject:new z.a({zIndex:1e3,source:new M.a})}):d({layerKey:"tileDebug"})}),[m,d,a]),Object(n.useEffect)((function(){i?m({layerKey:"osmBasemap",layerObject:new z.a({zIndex:1,source:new L.a})}):d({layerKey:"osmBasemap"})}),[m,d,i]),o.a.createElement(ga,null,o.a.createElement("input",{id:"tileDebug",name:"tileDebug",type:"checkbox",checked:a,onChange:y}),o.a.createElement("label",{htmlFor:"tileDebug"},"  XYZ Tile Debug"),o.a.createElement("br",null),o.a.createElement("input",{id:"osmBasemap",name:"osmBasemap",type:"checkbox",checked:i,onChange:v}),o.a.createElement("label",{htmlFor:"osmBasemap"},"OSM Basemap"),o.a.createElement("div",{style:{marginTop:"10px",borderTop:"2px solid black",width:"100%",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},o.a.createElement("span",{style:{fontWeight:"bold",fontSize:"18px"}},"XYZ Tiles"),o.a.createElement("label",{htmlFor:"xyzLayerOptions"},"Layer Options: \xa0",o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://openlayers.org/en/latest/apidoc/module-ol_layer_Tile-TileLayer.html"},"Open OL Specification")),o.a.createElement("textarea",{defaultValue:JSON.stringify({zIndex:1},null,2),ref:f,id:"xyzLayerOptions",name:"xyzLayerOptions",style:{height:"70px",width:"100%"}}),o.a.createElement("label",{htmlFor:"xyzSourceOptions"},"XYZ Source Config: \xa0",o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://openlayers.org/en/latest/apidoc/module-ol_source_XYZ-XYZ.html"},"Open OL Specification")),o.a.createElement("textarea",{defaultValue:JSON.stringify({url:"https://mt0.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",maxZoom:18,tileSize:256,transition:200,crossOrigin:!0},null,2),ref:f,id:"xyzSourceOptions",name:"xyzSourceOptions",style:{height:"120px",width:"100%"}}),o.a.createElement("br",null),o.a.createElement("label",{htmlFor:"xyzKey"},"Name an unique key for the layer:"),o.a.createElement("input",{id:"xyzKey",name:"xyzKey",defaultValue:"xyz-layer-1",ref:f}),o.a.createElement("input",{type:"submit",value:"Add XYZ Layer",onClick:g}),o.a.createElement("input",{type:"submit",value:"Remove XYZ Layer by Key",onClick:h})),o.a.createElement("div",{style:{marginTop:"10px",borderTop:"2px solid black",width:"100%",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},o.a.createElement("span",{style:{fontWeight:"bold",fontSize:"18px"}},"WMS Tiles"),o.a.createElement("label",{htmlFor:"xyzLayerOptions"},"Layer Options: \xa0",o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://openlayers.org/en/latest/apidoc/module-ol_layer_Tile-TileLayer.html"},"Open OL Specification")),o.a.createElement("textarea",{defaultValue:JSON.stringify({zIndex:2},null,2),ref:f,id:"wmsLayerOptions",name:"wmsLayerOptions",style:{height:"70px",width:"100%"}}),o.a.createElement("label",{htmlFor:"wmsOptions"},"TiledWMS Source Config: \xa0",o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://openlayers.org/en/latest/apidoc/module-ol_source_XYZ-XYZ.html"},"See OL Specification")),o.a.createElement("textarea",{defaultValue:JSON.stringify({url:"https://ahocevar.com/geoserver/wms",params:{LAYERS:"topp:states",TILED:!0},serverType:"geoserver",transition:0,crossOrigin:!0},null,2),ref:f,id:"wmsSourceOptions",name:"wmsSourceOptions",style:{height:"120px",width:"100%"}}),o.a.createElement("label",{htmlFor:"wmsKey"},"Name an unique key for the layer:"),o.a.createElement("input",{id:"wmsKey",name:"wmsKey",defaultValue:"wms-layer-1",ref:f}),o.a.createElement("input",{type:"submit",value:"Add WMS Layer",onClick:E}),o.a.createElement("input",{type:"submit",value:"Remove WMS Layer by Key",onClick:O})))},ja=function(){return o.a.createElement(O,null,o.a.createElement(fa,null,o.a.createElement(ba,null,o.a.createElement(la,{defaultControls:{fullScreenMode:{},scale:{bar:!0,minWidth:100},zoomButtons:{},zoomSlider:{}},startCoordinates:[-69.2,10],startZoom:4},o.a.createElement(la.Controls,{showRibbon:!0},o.a.createElement(Wt,{styled:!0}),o.a.createElement(Ht,{styled:!0}),o.a.createElement(qt,{styled:!0}),o.a.createElement(Qt,{styled:!0}),o.a.createElement(Ut,{styled:!0}),o.a.createElement(ea,{styled:!0}),o.a.createElement($t,{styled:!0}),o.a.createElement(ta,{styled:!0})))),o.a.createElement(ya,null,o.a.createElement(wa,null))))};function xa(){var e=Object(u.a)(["\n  height:500px;\n  width:500px;\n"]);return xa=function(){return e},e}var _a=m.b.div(xa()),Ca=function(){return o.a.createElement(O,null,o.a.createElement(_a,null,o.a.createElement(la,{osmBasemap:!0,defaultControls:{fullScreenMode:{},scale:{bar:!0,minWidth:100},zoomButtons:{},zoomSlider:{}},startCoordinates:[-49.2,-26.5],startZoom:11},o.a.createElement(la.Controls,{showRibbon:!1},o.a.createElement(Wt,null),o.a.createElement(Ht,null),o.a.createElement(qt,null),o.a.createElement(Qt,null),o.a.createElement(Ut,null),o.a.createElement(ea,null),o.a.createElement($t,null),o.a.createElement(ta,null)))))},ka=function(){return o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/blank",component:h}),o.a.createElement(s.a,{path:"/map-debug",component:ja}),o.a.createElement(s.a,{path:"/unstyled",component:Ca}),o.a.createElement(s.a,{path:"/",component:sa}))};function Sa(){var e=Object(u.a)(["\n  body {\n    background-color:",";\n  }\n"]);return Sa=function(){return e},e}var La=Object(m.a)(Sa(),Object(d.b)(p.darkBlue,.03));var Ma=function(){return o.a.createElement(i,null,o.a.createElement(ka,null),o.a.createElement(La,null))};l.a.render(o.a.createElement(Ma,null),document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.bba46111.chunk.js.map